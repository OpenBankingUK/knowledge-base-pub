(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{185:function(e,t,a){e.exports=a.p+"assets/img/Image_1.7864f714.png"},186:function(e,t,a){e.exports=a.p+"assets/img/Image_2.db805b2f.png"},187:function(e,t,a){e.exports=a.p+"assets/img/Image_3.9579b663.png"},188:function(e,t,a){e.exports=a.p+"assets/img/Image_4.00d7dee4.png"},208:function(e,t,a){"use strict";a.r(t);var s=a(3),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",[e._v("Read-Write API Specifications")]),e._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#what-is-the-read-write-api-specification"}},[e._v("What is the Read/Write API Specification?")])]),s("li",[s("a",{attrs:{href:"#where-can-i-find-the-latest-version-of-api-specifications"}},[e._v("Where can I find the latest version of API specifications?")])]),s("li",[s("a",{attrs:{href:"#where-can-i-find-the-timings-for-implementing-open-banking-roadmap"}},[e._v("Where can I find the timings for Implementing Open Banking Roadmap?")])]),s("li",[s("a",{attrs:{href:"#are-there-any-known-issues-in-the-latest-version-of-specifications"}},[e._v("Are there any known issues in the latest version of Specifications?")])]),s("li",[s("a",{attrs:{href:"#where-can-i-find-the-latest-version-of-swagger-specifications"}},[e._v("Where can I find the latest version of Swagger Specifications?")])]),s("li",[s("a",{attrs:{href:"#what-apis-can-an-aisp-access"}},[e._v("What APIs can an AISP access?")])]),s("li",[s("a",{attrs:{href:"#what-apis-can-an-cbpii-access"}},[e._v("What APIs can an CBPII access?")])]),s("li",[s("a",{attrs:{href:"#how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked"}},[e._v("How can the ASPSP inform the AISP that access has been revoked?")])]),s("li",[s("a",{attrs:{href:"#what-apis-can-an-pisp-access"}},[e._v("What APIs can an PISP access?")])]),s("li",[s("a",{attrs:{href:"#which-payment-order-types-are-supported-by-the-pis-api"}},[e._v("Which payment-order types are supported by the PIS API?")])]),s("li",[s("a",{attrs:{href:"#are-there-different-signing-policies-for-event-notifications"}},[e._v("Are there different signing policies for Event Notifications?")])]),s("li",[s("a",{attrs:{href:"#what-is-the-event-notification-api"}},[e._v("What is the Event Notification API?")])]),s("li",[s("a",{attrs:{href:"#how-can-a-tpp-register-with-the-aspsp-to-receive-event-notifications"}},[e._v("How can a TPP register with the ASPSP to receive event notifications?")])]),s("li",[s("a",{attrs:{href:"#are-there-separate-swagger-specifications-for-real-time-push-notifications-and-aggregated-polling"}},[e._v("Are there separate swagger specifications for Real-time (push) notifications and aggregated polling?")])]),s("li",[s("a",{attrs:{href:"#how-should-my-redirect-uris-be-encoded"}},[e._v("How should my redirect URIs be encoded?")])]),s("li",[s("a",{attrs:{href:"#what-length-of-uris-should-be-allowed-for-redirect"}},[e._v("What length of URIs should be allowed for redirect")])]),s("li",[s("a",{attrs:{href:"#what-do-we-refer-to-as-mandatory-get-endpoints"}},[e._v("What do we refer to as mandatory GET endpoints?")])]),s("li",[s("a",{attrs:{href:"#how-can-aspsps-provide-relevant-charges-to-a-pisp"}},[e._v("How can ASPSPs provide relevant charges to a PISP?")])]),s("li",[s("a",{attrs:{href:"#can-a-pisp-display-an-aspsp-s-charges-to-the-psu"}},[e._v("Can a PISP display an ASPSP's charges to the PSU?")])]),s("li",[s("a",{attrs:{href:"#can-an-aspsp-display-their-charges-to-the-psu-during-authentication"}},[e._v("Can an ASPSP display their charges to the PSU during authentication?")])]),s("li",[s("a",{attrs:{href:"#what-if-a-pisp-does-not-provide-the-optional-chargebearer-field"}},[e._v("What if a PISP does not provide the optional 'ChargeBearer' field?")])]),s("li",[s("a",{attrs:{href:"#which-chargetypes-would-be-used-for-a-sepa-credit-transfer-or-swift-payment"}},[e._v("Which ChargeTypes would be used for a SEPA Credit Transfer or SWIFT payment?")])]),s("li",[s("a",{attrs:{href:"#can-an-aspsp-provide-statements-to-an-aisps-in-non-json-file-format"}},[e._v("Can an ASPSP provide statements to an AISPs in non-JSON file format?")])]),s("li",[s("a",{attrs:{href:"#what-are-the-implementation-timelines-for-a-newly-published-specification-or-guidelines"}},[e._v("What are the implementation timelines for a newly published specification or guidelines?")])]),s("li",[s("a",{attrs:{href:"#do-tpps-have-to-implement-the-s-dashboard"}},[e._v("Do TPPs have to implement the s Dashboard?")])]),s("li",[s("a",{attrs:{href:"#is-oberrorresponse1-errors-message-mandatory-and-what-level-of-detail-is-expected"}},[e._v("Is OBErrorResponse1/Errors/Message mandatory, and what level of detail is expected?")])]),s("li",[s("a",{attrs:{href:"#when-should-aspsps-mark-payment-consent-resource-as-rejected"}},[e._v("When should ASPSPs mark 'payment consent resource' as 'Rejected'?")])]),s("li",[s("a",{attrs:{href:"#when-should-aspsps-reject-a-payment-order"}},[e._v("When should ASPSPs reject a Payment-Order?")])]),s("li",[s("a",{attrs:{href:"#can-aisps-change-the-permission-language"}},[e._v("Can AISPs change the permission language?")])]),s("li",[s("a",{attrs:{href:"#is-it-mandatory-to-implement-refresh-token-expires-at"}},[e._v("Is it mandatory to implement refresh_token-expires_at?")])]),s("li",[s("a",{attrs:{href:"#does-an-aspsp-need-to-delete-client-related-consents-once-tpp-has-deleted-client"}},[e._v("Does an ASPSP need to delete Client related consents once TPP has deleted Client?")])]),s("li",[s("a",{attrs:{href:"#is-it-possible-to-amend-or-revoke-a-standing-order-so-or-scheduled-payment-fdp"}},[e._v("Is it possible to amend or revoke a standing order (SO) or scheduled payment (FDP)?")])]),s("li",[s("a",{attrs:{href:"#what-types-and-lengths-of-account-identification-are-supported"}},[e._v("What types and lengths of account identification are supported?")])]),s("li",[s("a",{attrs:{href:"#does-the-aspsp-always-have-to-redirect-back-to-the-tpp"}},[e._v("Does the ASPSP always have to redirect back to the TPP?")])]),s("li",[s("a",{attrs:{href:"#what-message-should-an-aspsp-return-when-a-tpp-requests-permissions-to-an-endpoint-that-is-not-implemented"}},[e._v("What message should an ASPSP return when a TPP requests permissions to an endpoint that is not implemented?")])]),s("li",[s("a",{attrs:{href:"#when-a-tpp-calls-the-party-or-parties-endpoint-will-they-always-receive-the-partytype-attribute"}},[e._v("When a TPP calls the Party or Parties endpoint, will they always receive the PartyType attribute?")])]),s("li",[s("a",{attrs:{href:"#is-there-a-list-of-all-aspsps-participating-in-the-open-banking-ecosystem"}},[e._v("Is there a list of all ASPSPs participating in the Open Banking Ecosystem?")])]),s("li",[s("a",{attrs:{href:"#what-error-code-should-an-aspsp-send-back-to-a-tpp-if-a-wrong-x-fapi-financial-id-was-sent-in-the-request"}},[e._v("What error code should an ASPSP send back to a TPP if a wrong x-fapi-financial-id was sent in the request?")])]),s("li",[s("a",{attrs:{href:"#are-file-payments-supported-in-the-standard-for-both-personal-and-business-accounts"}},[e._v("Are File Payments supported in the Standard for both personal and business accounts?")])]),s("li",[s("a",{attrs:{href:"#how-can-we-know-if-an-aspsp-supports-file-payment-endpoint"}},[e._v("How can we know if an ASPSP supports File Payment endpoint?")])]),s("li",[s("a",{attrs:{href:"#can-aspsps-create-their-own-enumeration-when-required"}},[e._v("Can ASPSPs create their own enumeration when required?")])]),s("li",[s("a",{attrs:{href:"#have-any-aspsps-requested-new-values-to-be-added-to-enumeration"}},[e._v("Have any ASPSPs requested new values to be added to enumeration?")])]),s("li",[s("a",{attrs:{href:"#does-an-aisp-need-to-display-obl-defined-data-clusters-and-permission-language-in-the-ui"}},[e._v("Does an AISP need to display OBL defined data clusters and permission language in the UI?")])]),s("li",[s("a",{attrs:{href:"#how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked"}},[e._v("How can the ASPSP inform the AISP that access has been revoked?")])]),s("li",[s("a",{attrs:{href:"#what-resource-uri-path-structure-should-be-used-while-implementing-the-read-write-api-specification-v3-1-2"}},[e._v("What Resource URI Path Structure should be used while implementing the Read Write API Specification v3.1.2?")])]),s("li",[s("a",{attrs:{href:"#what-is-the-correct-way-of-creating-and-passing-consentid"}},[e._v("What is the correct way of creating and passing ConsentId?")])]),s("li",[s("a",{attrs:{href:"#what-error-should-be-returned-if-an-account-is-in-derogatory-status-e-g-fraud-stop"}},[e._v("What error should be returned if an account is in derogatory status (e.g. Fraud Stop)?")])]),s("li",[s("a",{attrs:{href:"#can-a-pisp-create-consent-in-a-previous-version-and-a-payment-order-resources-in-a-newer-version"}},[e._v("Can a PISP create consent in a previous version and a payment order resources in a newer version?")])]),s("li",[s("a",{attrs:{href:"#can-a-pisp-create-consent-in-a-new-version-and-a-payment-order-resource-using-an-older-version"}},[e._v("Can a PISP create consent in a new version and a payment order resource using an older version?")])]),s("li",[s("a",{attrs:{href:"#which-error-codes-should-be-used-when-a-tpp-submits-incorrect-json-e-g-extra-quotes-invalid-date-and-time-etc"}},[e._v("Which error codes should be used when a TPP submits incorrect JSON (e.g. extra quotes, invalid date and time, etc)?")])]),s("li",[s("a",{attrs:{href:"#does-a-tpp-need-to-return-id-token-signed-response-alg-if-they-only-support-code-as-response-type"}},[e._v("Does a TPP need to return id_token_signed_response_alg if they only support code as response type?")])]),s("li",[s("a",{attrs:{href:"#what-are-the-different-types-of-charge-bearer-codes-supported-in-single-immediate-domestic-payment"}},[e._v("What are the different types of charge bearer codes supported in single immediate (domestic) payment?")])]),s("li",[s("a",{attrs:{href:"#in-the-transaction-api-is-the-transaction-amount-field-inclusive-exclusive-of-chargeamount"}},[e._v("In the Transaction API, is the transaction amount field inclusive/exclusive of ChargeAmount?")])]),s("li",[s("a",{attrs:{href:"#does-an-aspsp-need-to-support-all-variants-of-datetime-format-as-per-iso-8601"}},[e._v("Does an ASPSP need to support all variants of DateTime format as per ISO 8601?")])]),s("li",[s("a",{attrs:{href:"#what-if-an-aspsp-is-not-able-to-support-functionality-or-an-attribute-in-the-payload-should-the-aspsp-reject-the-request-from-the-tpp"}},[e._v("What if an ASPSP is not able to support functionality or an attribute in the payload. Should the ASPSP reject the request from the TPP?")])]),s("li",[s("a",{attrs:{href:"#how-many-days-of-transactions-are-allowed-for-credit-card-transactions-in-the-transactions-api-aligning-to-the-regulation"}},[e._v("How many days of transactions are allowed for credit card transactions in the transactions API aligning to the regulation?")])]),s("li",[s("a",{attrs:{href:"#in-the-event-subscription-api-should-the-single-event-subscription-be-the-organisation-id-or-software-id"}},[e._v("In the event subscription API, should the single event subscription be the Organisation ID or Software ID?")])]),s("li",[s("a",{attrs:{href:"#should-the-offers-resource-be-used-only-for-the-specific-account-e-g-credit-card-limit-increases-as-opposed-to-all-possible-offers-a-customer-could-see-online-e-g-a-pre-approved-loan-offer-based-on-their-credit-card-payment-history-and-credit-file"}},[e._v("Should the 'offers' resource be used only for the specific account (e.g. Credit Card Limit Increases) as opposed to all possible offers a customer could see online (e.g. a pre-approved loan offer based on their credit card payment history and credit file)?")])]),s("li",[s("a",{attrs:{href:"#should-the-offers-endpoint-be-for-the-specific-account-or-all-possible-offers-a-customer-could-see-online"}},[e._v("Should the offers endpoint be for the specific account or all possible offers a customer could see online?")])]),s("li",[s("a",{attrs:{href:"#for-message-signing-what-should-be-the-input-payload-for-the-signature-e-g-http-body-parsed-json-canonicalised-json-etc"}},[e._v("For message signing, what should be the input payload for the signature (e.g. HTTP body, parsed JSON, canonicalised JSON etc)?")])]),s("li",[s("a",{attrs:{href:"#should-the-trust-anchor-in-detached-jws-signatures-in-sandbox-be-openbanking-org-uk-or-openbankingtest-org-uk"}},[e._v("Should the trust anchor in detached JWS Signatures in Sandbox be openbanking.org.uk or openbankingtest.org.uk?")])]),s("li",[s("a",{attrs:{href:"#why-does-the-obl-standard-not-use-standard-security-headers-such-as-content-security-policy-x-xss-protection-etc-can-an-aspsp-add-these-headers-to-their-responses"}},[e._v("Why does the OBL standard not use standard security headers such as Content-Security-Policy, X-XSS-Protection etc ? Can an ASPSP add these headers to their responses?")])]),s("li",[s("a",{attrs:{href:"#in-the-context-of-ais-is-it-possible-to-have-a-longer-lived-token-over-90-days-if-only-the-balance-is-read"}},[e._v("In the context of AIS, is it possible to have a longer-lived token over 90 days if only the balance is read?")])]),s("li",[s("a",{attrs:{href:"#in-the-context-of-pis-does-the-consent-for-payment-expire-if-not-used-can-the-token-expiry-be-set-to-90-days-and-the-token-refreshed-if-not-expired"}},[e._v("In the context of PIS, does the consent for payment expire if not used? Can the token expiry be set to 90 days and the token refreshed if not expired?")])]),s("li",[s("a",{attrs:{href:"#how-long-are-transactions-available-via-the-transactions-api-after-the-bank-account-is-closed"}},[e._v("How long are transactions available via the transactions API after the bank account is closed?")])]),s("li",[s("a",{attrs:{href:"#can-you-give-a-few-examples-to-illustrate-the-use-of-instructedamount-for-an-international-payment"}},[e._v("Can you give a few examples to illustrate the use of `InstructedAmount` for an International Payment?")])]),s("li",[s("a",{attrs:{href:"#which-error-codes-should-the-aspsp-use-while-responding-back-to-the-tpp-in-case-of-an-error"}},[e._v("Which error codes should the ASPSP use while responding back to the TPP in case of an error?")])]),s("li",[s("a",{attrs:{href:"#is-it-acceptable-for-an-aspsp-to-issue-302-redirects-during-the-authorization-code-grant-flow-to-the-psu-s-user-agent"}},[e._v("Is it acceptable for an ASPSP to issue 302 redirects during the authorization code grant flow to the PSU’s user agent?")])]),s("li",[s("a",{attrs:{href:"#what-does-each-of-the-balance-types-mean-does-an-aspsp-have-to-provide-specific-balance-types-in-its-response"}},[e._v("What does each of the Balance types mean? Does an ASPSP have to provide specific balance types in its response?")]),s("ul",[s("li",[s("a",{attrs:{href:"#as-an-aspsp-do-we-need-to-support-a-specific-file-type-for-file-payments"}},[e._v("As an ASPSP, do we need to support a specific file type for File Payments?")])]),s("li",[s("a",{attrs:{href:"#as-a-tpp-do-we-need-to-support-a-specific-file-type-for-file-payments-at-an-aspsp"}},[e._v("As a TPP, do we need to support a specific file type for File Payments at an ASPSP?")])]),s("li",[s("a",{attrs:{href:"#can-you-explain-what-is-included-in-interimavailable-balance-type-for-credit-cards"}},[e._v("Can you explain what is included in `InterimAvailable` balance type for credit cards?")])]),s("li",[s("a",{attrs:{href:"#when-a-payment-is-refunded-what-should-be-the-captured-in-the-creditor-and-agent-fields-of-the-refund-block"}},[e._v("When a payment is refunded, what should be the captured in the `Creditor` and `Agent` fields of the `Refund` block?")])]),s("li",[s("a",{attrs:{href:"#are-any-of-these-attributes-available-for-credit-cards-overdraft-information"}},[e._v("Are any of these attributes available for Credit Cards & Overdraft information?")])])])]),s("li",[s("a",{attrs:{href:"#how-do-we-know-whether-aspsp-supports-pain-file-format-for-file-bulk-payments"}},[e._v("How do we know whether ASPSP supports PAIN file format for file/bulk payments?")])]),s("li",[s("a",{attrs:{href:"#what-would-be-the-appropriate-errorcode-in-case-the-request-contains-a-malformed-body-e-g-incorrect-json"}},[e._v("What would be the appropriate `ErrorCode` in case the request contains a malformed body, e.g. incorrect JSON?")])]),s("li",[s("a",{attrs:{href:"#for-the-hybrid-authorization-code-grant-can-you-please-provide-a-more-complete-list-of-the-scenarios-in-which-an-aspsp-should-not-redirect-back-to-the-tpp-but-should-display-an-error-page-instead"}},[e._v("For the hybrid/authorization code grant, can you please provide a more complete list of the scenarios in which an ASPSP should not redirect back to the TPP, but should display an error page instead ?")])])])]),s("p"),e._v(" "),s("h3",{attrs:{id:"what-is-the-read-write-api-specification"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-read-write-api-specification"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the Read/Write API Specification?")])]),e._v(" "),s("p",[e._v("The Read/Write API specification describes a collection of RESTful APIs that enable authorised TPPs to access online payment accounts held at ASPSPs, securely, efficiently and with customer consent.")]),e._v(" "),s("h3",{attrs:{id:"where-can-i-find-the-latest-version-of-api-specifications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-find-the-latest-version-of-api-specifications"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Where can I find the latest version of API specifications?")])]),e._v(" "),s("p",[e._v("Please see "),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/",rel:"nofollow"}},[e._v("Read Write API Specifications")])]),e._v(" "),s("h3",{attrs:{id:"where-can-i-find-the-timings-for-implementing-open-banking-roadmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-find-the-timings-for-implementing-open-banking-roadmap"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Where can I find the timings for Implementing Open Banking Roadmap?")])]),e._v(" "),s("p",[e._v("The timings are defined in the Open Banking Roadmap.")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.openbanking.org.uk/wp-content/uploads/Open-Banking-Revised-Roadmap-July-2018.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("2018-2019 - Open-Banking-Revised-Roadmap-July-2018"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/885537/Notice_of_proposed_changes_to_the_open_banking_roadmap_-_web_publication_-_cma_gov_uk_---_May_2020_-.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("2020 - 2021 - Notice of approval of changes to the Agreed Timetable and Project Plan - May 2020"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("These implementation timings apply to the CMA9, as required by the CMA Order.")]),e._v(" "),s("h3",{attrs:{id:"are-there-any-known-issues-in-the-latest-version-of-specifications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#are-there-any-known-issues-in-the-latest-version-of-specifications"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Are there any known issues in the latest version of Specifications?")])]),e._v(" "),s("p",[e._v("Yes, there are and it is recommended to read the specifications in conjunction with the\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues/",rel:"nofollow"}},[e._v("Known Specification Issues")])]),e._v(" "),s("h3",{attrs:{id:"where-can-i-find-the-latest-version-of-swagger-specifications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-find-the-latest-version-of-swagger-specifications"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Where can I find the latest version of Swagger Specifications?")])]),e._v(" "),s("p",[e._v("The Swagger Specification for Read/Write APIs can be downloaded from the following GitHub Repository:")]),e._v(" "),s("p",[s("a",{staticClass:"external-link",staticStyle:{"text-decoration":"none"},attrs:{href:"https://github.com/OpenBankingUK/read-write-api-specs",rel:"nofollow"}},[e._v("https://github.com/OpenBankingUK/read-write-api-specs")])]),e._v(" "),s("h3",{attrs:{id:"what-apis-can-an-aisp-access"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-apis-can-an-aisp-access"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What APIs can an AISP access?")])]),e._v(" "),s("p",[e._v("The Account and Transaction API Profile describes the flows and common functionality for the Accounts and Transaction API, which allows an Account Information Service Provider ('AISP') to:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v('Register an intent to retrieve account information by creating an "account access consent". This registers the data "permissions", expiration and historical period allowed for transactions/statements - that the customer (PSU) has consented to provide to the AISP; and')])]),e._v(" "),s("li",[s("p",[e._v("Subsequently, retrieve account and transaction data.")])])]),e._v(" "),s("p",[e._v("The links to the list of Account and Transaction APIs :\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/account-and-transaction-api-profile.html",rel:"nofollow"}},[e._v("Account and Transaction APIs")])]),e._v(" "),s("h3",{attrs:{id:"what-apis-can-an-cbpii-access"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-apis-can-an-cbpii-access"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What APIs can an CBPII access?")])]),e._v(" "),s("p",[e._v("The Confirmation of Funds API Profile describes the flows and common functionality for the Confirmation of Funds API, which allows a Card Based Payment Instrument Issuer ('CBPII') to:")]),e._v(" "),s("ul",[s("li",[e._v('Register an intent to confirm funds by creating a "funds confirmation consent" resource with an ASPSP, for agreement between the PSU and ASPSP. This consent is a long lived consent, and contains the length of time (expiration date) the customer (PSU) would like to provide to the CBPII; and')]),e._v(" "),s("li",[e._v("Subsequently, make a request to confirm funds are available.")]),e._v(" "),s("li",[e._v("Funds can only be confirmed against the currency of the account.")])]),e._v(" "),s("p",[e._v("This profile should be read in conjunction with a compatible Read/Write Data API Profile which provides a description of the elements that are common across all the Read/Write Data APIs, and compatible individual resources.")]),e._v(" "),s("p",[e._v("For more details refer to :\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/confirmation-of-funds-api-profile",rel:"nofollow"}},[e._v("Account & Confirmation of Funds API Profile")])]),e._v(" "),s("h3",{attrs:{id:"how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How can the ASPSP inform the AISP that access has been revoked?")])]),e._v(" "),s("p",[e._v("The OB solution supports the revocation of consent at the TPP dashboard and the revocation of access at the ASPSP dashboard.")]),e._v(" "),s("p",[e._v("When access is revoked at the ASPSP access dashboard by the PSU, the TPP can be notified as follows:-")]),e._v(" "),s("ul",[s("li",[e._v("Real-time/ Push Notifications: The functionality enables ASPSPs to notify AISPs in real-time (i.e. immediately) when a PSU revokes their access at their ASPSP dashboard or other account access changes events take place.")]),e._v(" "),s("li",[e._v("Aggregated polling / Pull Notifications: This enables the provision of notification of revocations from ASPSPs to AISPs, upon AISP request. It allows an AISP to request an aggregated set of access revocations and other account access events related to multiple access consents from multiple PSUs during a specific period.")])]),e._v(" "),s("p",[e._v("For more details refer to: "),s("a",{attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/dashboards/psu-notifications/latest/#psu_notif_sync/",target:"_blank",rel:"noopener noreferrer"}},[e._v("customer-experience-guidelines - Dashboards - Notifications"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"what-apis-can-an-pisp-access"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-apis-can-an-pisp-access"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What APIs can an PISP access?")])]),e._v(" "),s("p",[e._v("The Payment Initiation API Profile describes the flows and common functionality for the Payment Initiation API, which allows a Payment Initiation Service Provider ('PISP') to:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Register an intent to "),s("strong",[e._v("stage")]),e._v(" a payment-order consent.")])]),e._v(" "),s("li",[s("p",[e._v("Optionally confirm available funds for a payment-order (domestic immediate, international immediate and international scheduled (immediate debit) payments only.")])]),e._v(" "),s("li",[s("p",[e._v("Subsequently "),s("strong",[e._v("submit")]),e._v(" the payment-order for processing.")])]),e._v(" "),s("li",[s("p",[e._v("Optionally retrieve the status of a payment-order "),s("strong",[e._v("consent")]),e._v(" or payment-order "),s("strong",[e._v("resource")]),e._v(" .")])])]),e._v(" "),s("p",[e._v("For more details refer to :\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/payment-initiation-api-profile.html",rel:"nofollow"}},[e._v("Payment Initiation API Profile")])]),e._v(" "),s("h3",{attrs:{id:"which-payment-order-types-are-supported-by-the-pis-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#which-payment-order-types-are-supported-by-the-pis-api"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Which payment-order types are supported by the PIS API?")])]),e._v(" "),s("ul",[s("li",[e._v("Domestic payments.")]),e._v(" "),s("li",[e._v("Domestic scheduled payments.")]),e._v(" "),s("li",[e._v("Domestic standing orders.")]),e._v(" "),s("li",[e._v("International payments.")]),e._v(" "),s("li",[e._v("International scheduled payments.")])]),e._v(" "),s("h3",{attrs:{id:"are-there-different-signing-policies-for-event-notifications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#are-there-different-signing-policies-for-event-notifications"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Are there different signing policies for Event Notifications?")])]),e._v(" "),s("p",[e._v("The signing policy for any resource isn't dependent on the Swagger File. It is up to the ASPSP's implementation of the Events resource, e.g. "),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/event-notification-api-profile.html#event-notification-message-signing",rel:"nofollow"}},[e._v("Event Notification Message Signing")]),e._v(" and is similar to any other Read/Write API specification, other than the JWT's signature (JWS) which is sent in the HTTP body of the request, as opposed to a detached JWS sent in the HTTP header.")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-event-notification-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-event-notification-api"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the Event Notification API?")])]),e._v(" "),s("p",[e._v("The Event Notification API Profile describes the flows and common functionality to allow a TPP to receive event notifications.")]),e._v(" "),s("p",[e._v("This covers a number of use cases, including:")]),e._v(" "),s("ul",[s("li",[e._v("Updates to the status of a payment initiation (e.g. when there are multiple authorisations required in the ASPSP interface).")]),e._v(" "),s("li",[e._v("Revocation of AISP access by the PSU in the ASPSP interface.")])]),e._v(" "),s("p",[e._v("For more details refer to :\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/event-notification-api-profile",rel:"nofollow"}},[e._v("event-notification-api-profile")])]),e._v(" "),s("h3",{attrs:{id:"how-can-a-tpp-register-with-the-aspsp-to-receive-event-notifications"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-can-a-tpp-register-with-the-aspsp-to-receive-event-notifications"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How can a TPP register with the ASPSP to receive event notifications?")])]),e._v(" "),s("p",[e._v("The  "),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/event-notification-subscription-api-profile.html",rel:"nofollow"}},[e._v("Event Notification Subscription API Profile")]),e._v(" and the  "),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/callback-url-api-profile.html",rel:"nofollow"}},[e._v("Callback URL API Profile")]),e._v(" provide alternative mechanisms for TPPs to register for event notifications.")]),e._v(" "),s("ul",[s("li",[e._v("The Event Notification Subscription API allows TPPs to register to receive all or specific event types via the Real-Time Event Notification API and/or the Aggregated Polling API")]),e._v(" "),s("li",[e._v("The Callback URL API allows TPPs to register to receive "),s("code",[e._v("aurn:uk:org:openbanking:events:resource-updateevent")]),e._v(" notification via the Real-Time Event Notification API.")])]),e._v(" "),s("h3",{attrs:{id:"are-there-separate-swagger-specifications-for-real-time-push-notifications-and-aggregated-polling"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#are-there-separate-swagger-specifications-for-real-time-push-notifications-and-aggregated-polling"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Are there separate swagger specifications for Real-time (push) notifications and aggregated polling?")])]),e._v(" "),s("p",[e._v("Event Subscription, CallbackURLregistration and Aggregated Polling specifications are all hosted by the ASPSP, while the TPP hosts the endpoint to receive real-time push notifications.")]),e._v(" "),s("p",[e._v("There are two Swagger specification files, for Events Resources:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/OpenBankingUK/read-write-api-specs/blob/v4.0/dist/openapi/events-openapi.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("event-subscriptions-openapi & aggregated-polling-openapi"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/OpenBankingUK/read-write-api-specs/blob/v4.0/dist/openapi/event-notifications-openapi.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("event-notifications-openapi"),s("OutboundLink")],1)]),e._v(" "),s("li")]),e._v(" "),s("h3",{attrs:{id:"how-should-my-redirect-uris-be-encoded"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-should-my-redirect-uris-be-encoded"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How should my redirect URIs be encoded?")])]),e._v(" "),s("p",[e._v("Both ASPSPs and TPPs should format all URIs using URL encoding. Participants should accept all URLs which have been URL encoded. (see "),s("a",{attrs:{href:"https://www.w3schools.com/tags/ref_urlencode.asp",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1),e._v(").")]),e._v(" "),s("h3",{attrs:{id:"what-length-of-uris-should-be-allowed-for-redirect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-length-of-uris-should-be-allowed-for-redirect"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What length of URIs should be allowed for redirect")])]),e._v(" "),s("p",[e._v("OBL does not define a maximum URI length.")]),e._v(" "),s("p",[e._v("The URI limit is something that is enforced by your server and client. It is reasonable to assume URIs could be as much as 2048 characters, which is the lowest limit of any of the major, modern browsers.")]),e._v(" "),s("p",[e._v("Participants should be able to handle the URIs of unbounded length if they provide GET-based forms that could generate such URIs. In the event where the TPP has exceeded the maximum supported length, the ASPSP must return a 414 (Request-URI Too Long).")]),e._v(" "),s("h3",{attrs:{id:"what-do-we-refer-to-as-mandatory-get-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-do-we-refer-to-as-mandatory-get-endpoints"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What do we refer to as mandatory GET endpoints?")])]),e._v(" "),s("p",[e._v("The GET endpoint enables the PISP to check the status of the payment consent resource.")]),e._v(" "),s("p",[e._v("The GET endpoints listed below are considered mandatory for implementation. This would be applicable irrespective of whether the response in both POST and the GET remains the same.")]),e._v(" "),s("ul",[s("li",[e._v("GET /domestic-scheduled-payments/{DomesticScheduledPaymentId}")]),e._v(" "),s("li",[e._v("GET /domestic-standing-orders/{DomesticStandingOrderId}")]),e._v(" "),s("li",[e._v("GET /international-scheduled-payments/{InternationalScheduledPayment}")]),e._v(" "),s("li",[e._v("GET /international-standing-orders/{InternationalStandingOrderPaymentId}")])]),e._v(" "),s("h3",{attrs:{id:"how-can-aspsps-provide-relevant-charges-to-a-pisp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-can-aspsps-provide-relevant-charges-to-a-pisp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How can ASPSPs provide relevant charges to a PISP?")])]),e._v(" "),s("p",[e._v("The Open Banking Write specification enables the ASPSP to provide any relevant charges related to the payment order to the PISP in two ways:-")]),e._v(" "),s("p",[e._v("(a) When the PISP sets up the payment order, the ASPSP can populate relevant charges (including a breakdown) as part of the payment consent response (name of response which is returned to the PISP.")]),e._v(" "),s("p",[e._v("(b) When the PISP submits the payment order, the ASPSP can respond by including any relevant charges (including a breakdown) as part of the payment response, which is returned to the PISP.")]),e._v(" "),s("p",[e._v("For more details refer to : "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/read-write-data-api-profile.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("api-specifications/read-write-specs/latest/"),s("OutboundLink")],1),e._v(" "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-payments.html"}},[e._v("Domestic Payments v4.0")])]),e._v(" "),s("ul",[s("li",[e._v("Domestic payment consent - response (xpath - OBWriteDomesticConsentResponse5/Data/Charges).")]),e._v(" "),s("li",[e._v("Domestic payment - response (xpath - OBWriteDomesticResponse5/Data/Charges).")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/international-payment-consents.html"}},[e._v("International Payments v4.0")])]),e._v(" "),s("ul",[s("li",[e._v("International payment consent - response (xpath - OBWriteInternationalConsentResponse6/Data/Charges).")]),e._v(" "),s("li",[e._v("International payment - response (xpath - OBWriteInternationalResponse5/Data/Charges).")])]),e._v(" "),s("h3",{attrs:{id:"can-a-pisp-display-an-aspsp-s-charges-to-the-psu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-a-pisp-display-an-aspsp-s-charges-to-the-psu"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can a PISP display an ASPSP's charges to the PSU?")])]),e._v(" "),s("p",[e._v("The PISP could display any relevant ASPSP charges related to the payment order during the consent stage of their journey, however, this will be dependent on whether the ASPSP has shared these charges with the PISP as part of the payment consent response.")]),e._v(" "),s("h3",{attrs:{id:"can-an-aspsp-display-their-charges-to-the-psu-during-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-an-aspsp-display-their-charges-to-the-psu-during-authentication"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can an ASPSP display their charges to the PSU during authentication?")])]),e._v(" "),s("p",[e._v("Yes, the ASPSP can provide any supplementary information related to the payment, like charges (if applicable) to the PSU as part of their authentication journey.")]),e._v(" "),s("p",[e._v("Please refer to the following example journeys in CEG:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/payment-initiation-services/international-payments/latest/"}},[e._v("International Payment Journey")]),e._v(" - CEG Checklist #9.")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/payment-initiation-services/single-domestic-payments-supplementary-information/latest/"}},[e._v("Domestic Payments - a/c selection @PISP (Supplementary Info)")]),e._v(" - Additional Information.")])]),e._v(" "),s("h3",{attrs:{id:"what-if-a-pisp-does-not-provide-the-optional-chargebearer-field"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-if-a-pisp-does-not-provide-the-optional-chargebearer-field"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What if a PISP does not provide the optional 'ChargeBearer' field?")])]),e._v(" "),s("p",[e._v("If the PISP does not provide a charge bearer value in the payment consent request payload, and if this cannot be determined (e.g. in case of SEPA payment) then the ASPSP should not reject the payment, but it should seek to get this information from the PSU via the supplementary information screen as part of authentication journey.")]),e._v(" "),s("h3",{attrs:{id:"which-chargetypes-would-be-used-for-a-sepa-credit-transfer-or-swift-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#which-chargetypes-would-be-used-for-a-sepa-credit-transfer-or-swift-payment"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Which ChargeTypes would be used for a SEPA Credit Transfer or SWIFT payment?")])]),e._v(" "),s("p",[e._v("Within the specified OBExternalPaymentChargeType1Code enum, the namespaced enumeration for charge types is not intended to be exhaustive, and ASPSPs can add their own enumerations.")]),e._v(" "),s("h3",{attrs:{id:"can-an-aspsp-provide-statements-to-an-aisps-in-non-json-file-format"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-an-aspsp-provide-statements-to-an-aisps-in-non-json-file-format"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can an ASPSP provide statements to an AISPs in non-JSON file format?")])]),e._v(" "),s("p",[e._v("Yes, an ASPSP can provide a statement to the AISP using non JSON file format. The link to access this statement using a non JSON file format:")]),e._v(" "),s("p",[s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/aisp/Statements.html#get-accounts-accountid-statements-statementid-file/",rel:"nofollow"}},[e._v("GET /accounts/{AccountId}/statements/{StatementId}/file\n")])]),e._v(" "),s("h3",{attrs:{id:"what-are-the-implementation-timelines-for-a-newly-published-specification-or-guidelines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-are-the-implementation-timelines-for-a-newly-published-specification-or-guidelines"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What are the implementation timelines for a newly published specification or guidelines?")])]),e._v(" "),s("p",[e._v("Please refer to the Operational Guidelines: "),s("a",{staticClass:"external-link",attrs:{href:"https://standards.openbanking.org.uk/operational-guidelines/change-and-communication-management/implementation-of-a-new-obie-standard/latest/",rel:"nofollow"}},[e._v("Implementation of a new OBL Standard")])]),e._v(" "),s("ul",[s("li",[e._v("It is up to ASPSPs to take their own position of which version of each component of the Standard they chose to implement in order to meet both regulatory and commercial requirements.")]),e._v(" "),s("li",[e._v("OBL recommends that where an ASPSP chooses to implement a new version of any component of the Standard, they should implement each new major version within six months, and each new minor version within three months of the Standard being published by OBL.")])]),e._v(" "),s("p",[e._v("ASPSPs should provide notification of any changes to TPPs at least three months prior to those changes taking effect.")]),e._v(" "),s("h3",{attrs:{id:"do-tpps-have-to-implement-the-s-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#do-tpps-have-to-implement-the-s-dashboard"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Do TPPs have to implement the s Dashboard?")])]),e._v(" "),s("p",[e._v("While there is no regulatory requirement for the provision of a consent dashboard by TPPs, OBL strongly encourages all TPPs to provide a consent dashboard to their customers to enable view and revoke on-going consents.")]),e._v(" "),s("h3",{attrs:{id:"is-oberrorresponse1-errors-message-mandatory-and-what-level-of-detail-is-expected"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-oberrorresponse1-errors-message-mandatory-and-what-level-of-detail-is-expected"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is OBErrorResponse1/Errors/Message mandatory, and what level of detail is expected?")])]),e._v(" "),s("p",[e._v("This is considered a mandatory field and ASPSPs must include a description of the error that occurred. E.g., 'A mandatory field isn't supplied' or 'RequestedExecutionDateTime must be in future'")]),e._v(" "),s("p",[e._v("OBL does not standardise this field and it is up to each ASPSP to determine the appropriate level of detail to provide an adequate description of the error that has taken place to the TPP.")]),e._v(" "),s("p",[e._v("TPPs will need to determine which error codes to implement depending on the relevant error code(s) applicable to them and their service offerings.")]),e._v(" "),s("h3",{attrs:{id:"when-should-aspsps-mark-payment-consent-resource-as-rejected"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#when-should-aspsps-mark-payment-consent-resource-as-rejected"}},[e._v("#")]),e._v(" "),s("strong",[e._v("When should ASPSPs mark 'payment consent resource' as 'Rejected'?")])]),e._v(" "),s("p",[e._v("The ASPSP must mark the consent as 'Rejected' when the PSU does not complete the consent-authorisation flow.")]),e._v(" "),s("p",[e._v("The ASPSP must also set the status of the payment-order consent to Rejected, if the AuthorisationType requested by the PISP cannot be satisfied, after PSU Authentication. The ASPSP must respond back with an OAuth error response fields error specified as invalid_request and "),s("em",[s("strong",[e._v("error_description")])]),e._v(" containing an appropriate message.")]),e._v(" "),s("h3",{attrs:{id:"when-should-aspsps-reject-a-payment-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#when-should-aspsps-reject-a-payment-order"}},[e._v("#")]),e._v(" "),s("strong",[e._v("When should ASPSPs reject a Payment-Order?")])]),e._v(" "),s("p",[e._v("An ASPSP must reject an authorization request when the underlying intent object is associated with a CutoffDateTime that has elapsed. The ASPSP must not issue an access token in such a situation. The ASPSP must set the status of the payment-order consent resource to “Rejected”.")]),e._v(" "),s("h3",{attrs:{id:"can-aisps-change-the-permission-language"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-aisps-change-the-permission-language"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can AISPs change the permission language?")])]),e._v(" "),s("p",[e._v("The AISP must ensure they have business rules that manage the relationship between data clusters and product type. They must omit access to data clusters that are irrelevant to a product type, as well as their service offering. If an AISP requests a cluster of data that is irrelevant to the product type associated with the payment account e.g. Direct Debit cluster requested for a Savings Account product type, the ASPSP may provide that cluster as empty.")]),e._v(" "),s("p",[e._v("For more guidance, refer to "),s("a",{attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/account-information-services/permissions-and-data-clusters/latest/",target:"_blank",rel:"noopener noreferrer"}},[e._v("customer-experience-guidelines/account-information-services/permissions-and-data-clusters/latest/"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"is-it-mandatory-to-implement-refresh-token-expires-at"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-mandatory-to-implement-refresh-token-expires-at"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it mandatory to implement refresh_token-expires_at?")])]),e._v(" "),s("p",[e._v("If the ASPSP issues a refresh token that expires, the ASPSP must indicate the date-time at which the refresh token will expire in a claim named "),s("code",[e._v("http://openbanking.org.uk/refresh_token_expires_at")]),e._v(" in the Id token (returned by the token end-point or userinfo end-point). Its value MUST be a number containing a NumericDate value, as specified in "),s("code",[e._v("https://tools.ietf.org/html/rfc7519#section-2")])]),e._v(" "),s("ul",[s("li",[e._v("NumericDate is a JSON numeric value representing the number of seconds from 1970-01-01T00:00:00Z UTC until the specified UTC date-time, ignoring leap seconds.")])]),e._v(" "),s("p",[e._v("If the ASPSP does not issue a refresh token, the ASPSP "),s("strong",[e._v("must not")]),e._v(" populate the "),s("code",[e._v("http://openbanking.org.uk/refresh_token_expires_at")]),e._v(" claim in the Id token")]),e._v(" "),s("p",[e._v("If the ASPSP issues a refresh token that does not expire, the ASPSP "),s("strong",[e._v("must not")]),e._v(" populate the claim named "),s("code",[e._v("http://openbanking.org.uk/refresh_token_expires_at")]),e._v(" in the Id token.")]),e._v(" "),s("p",[e._v("For more details refer to: "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/read-write-data-api-profile.html#token-expiry-time",target:"_blank",rel:"noopener noreferrer"}},[e._v("read-write-data-api-profile.html#token-expiry-time"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"does-an-aspsp-need-to-delete-client-related-consents-once-tpp-has-deleted-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-an-aspsp-need-to-delete-client-related-consents-once-tpp-has-deleted-client"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does an ASPSP need to delete Client related consents once TPP has deleted Client?")])]),e._v(" "),s("p",[e._v("This relates to client registration that the TPP does with each ASPSP.")]),e._v(" "),s("p",[e._v("The OBL Standard is silent on Client registration and De-registration. It is up to ASPSPs to decide their approach in alignment with FAPI and OpenId Connect.")]),e._v(" "),s("h3",{attrs:{id:"is-it-possible-to-amend-or-revoke-a-standing-order-so-or-scheduled-payment-fdp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-possible-to-amend-or-revoke-a-standing-order-so-or-scheduled-payment-fdp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it possible to amend or revoke a standing order (SO) or scheduled payment (FDP)?")])]),e._v(" "),s("p",[e._v("If a PSU has given consent to a PISP to initiate a SO or FDP, then the SO and FDP cannot be amended or cancelled via a PISP directly following payment initiation. However, it is expected that customers should be able to amend or cancel a SO or FDP in the domain of their ASPSP, provided that this functionality is available in the direct online channels.")]),e._v(" "),s("h3",{attrs:{id:"what-types-and-lengths-of-account-identification-are-supported"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-types-and-lengths-of-account-identification-are-supported"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What types and lengths of account identification are supported?")])]),e._v(" "),s("p",[e._v("UK.OB.SortCodeAccountNumber is specific to UK. The SchemeName field is namespaced, meaning the ASPSP/PISP may use a different scheme name, if it is not already defined in OBL specifications.")]),e._v(" "),s("p",[e._v("The identification field is 256 characters long so you can add more than 14 characters if required.")]),e._v(" "),s("h3",{attrs:{id:"does-the-aspsp-always-have-to-redirect-back-to-the-tpp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-the-aspsp-always-have-to-redirect-back-to-the-tpp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does the ASPSP always have to redirect back to the TPP?")])]),e._v(" "),s("p",[e._v("The OBL Standard supports 2 methods of authentication: redirection and decoupled.")]),e._v(" "),s("p",[e._v("For redirection, OBL's research has suggested that redirection screens are a useful part of the process, providing customer trust. The following reasons are noted:")]),e._v(" "),s("p",[e._v("They help customers navigate their online journey and inform them of what is going to happen next.\nThey help create a clear sense of separation between the TPP’s domain and the ASPSP’s domain.\nFor more details, please refer to Customer Experience Guidelines:")]),e._v(" "),s("ul",[s("li",[s("p",[s("a",{staticClass:"external-link",attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/authentication-methods/latest/#Redirection_based/",rel:"nofollow"}},[e._v("Redirection based authentication")])])]),e._v(" "),s("li",[s("p",[s("a",{staticClass:"external-link",attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/authentication-methods/redirection/section-b/latest#Effective-use-redirection-screens",rel:"nofollow"}},[e._v("Effective use of redirection screens")])])])]),e._v(" "),s("h3",{attrs:{id:"what-message-should-an-aspsp-return-when-a-tpp-requests-permissions-to-an-endpoint-that-is-not-implemented"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-message-should-an-aspsp-return-when-a-tpp-requests-permissions-to-an-endpoint-that-is-not-implemented"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What message should an ASPSP return when a TPP requests permissions to an endpoint that is not implemented?")])]),e._v(" "),s("p",[e._v("The standards do not specify the response in this situation. ASPSPs may:")]),e._v(" "),s("ul",[s("li",[e._v("reject the account-access-consent with a status code of 400 and error code of "),s("code",[e._v("UK.OB.Field.Invalid")]),e._v(" OR")]),e._v(" "),s("li",[e._v("process the request successfully.")])]),e._v(" "),s("p",[e._v("ASPSPs "),s("strong",[e._v("must")]),e._v(" make documentation available to TPPs (e.g. on their developer portals) which should specify which 'Conditional' / 'Optional' endpoints and fields have been implemented.")]),e._v(" "),s("h3",{attrs:{id:"when-a-tpp-calls-the-party-or-parties-endpoint-will-they-always-receive-the-partytype-attribute"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#when-a-tpp-calls-the-party-or-parties-endpoint-will-they-always-receive-the-partytype-attribute"}},[e._v("#")]),e._v(" "),s("strong",[e._v("When a TPP calls the Party or Parties endpoint, will they always receive the PartyType attribute?")])]),e._v(" "),s("p",[e._v("It is optional for the ASPSPs to provide the PartyType field as part of the Party or Parties endpoint.")]),e._v(" "),s("p",[e._v("ASPSPs "),s("strong",[e._v("must")]),e._v(" make documentation available to TPPs (e.g. on their developer portals) which should specify which 'Conditional' / 'Optional' endpoints and fields have been implemented.")]),e._v(" "),s("h3",{attrs:{id:"is-there-a-list-of-all-aspsps-participating-in-the-open-banking-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-there-a-list-of-all-aspsps-participating-in-the-open-banking-ecosystem"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is there a list of all ASPSPs participating in the Open Banking Ecosystem?")])]),e._v(" "),s("p",[e._v("Together with UK Finance and FDATA, OBL has developed and maintains a list of ASPSPs here: "),s("a",{staticClass:"external-link",attrs:{href:"https://openbanking.atlassian.net/wiki/spaces/AD/pages/1135346433/Transparency+Calendar/",rel:"nofollow"}},[e._v("Transparency Calendar")])]),e._v(" "),s("p",[e._v("This shows key information including: contact details, which directory is being used, and a link to a page maintained by each ASPSP showing further details of the APIs being implemented by each. While this list does not guarantee to include all UK ASPSPs, it is intended to be as comprehensive as possible.")]),e._v(" "),s("h3",{attrs:{id:"what-error-code-should-an-aspsp-send-back-to-a-tpp-if-a-wrong-x-fapi-financial-id-was-sent-in-the-request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-error-code-should-an-aspsp-send-back-to-a-tpp-if-a-wrong-x-fapi-financial-id-was-sent-in-the-request"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What error code should an ASPSP send back to a TPP if a wrong x-fapi-financial-id was sent in the request?")])]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("x-fapi-financial-id")]),e._v(" header was required up until Version 3.1.1 of the OBL Read-write API profile. ASPSPs that implement this version must reject an invalid request with a 403 (Forbidden).")]),e._v(" "),s("p",[e._v("The requirement for providing "),s("code",[e._v("x-fapi-financial-id")]),e._v(" in the request header was removed from FAPI and subsequently removed from Version 3.1.2 of the Read/Write API Specification.")]),e._v(" "),s("h3",{attrs:{id:"are-file-payments-supported-in-the-standard-for-both-personal-and-business-accounts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#are-file-payments-supported-in-the-standard-for-both-personal-and-business-accounts"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Are File Payments supported in the Standard for both personal and business accounts?")])]),e._v(" "),s("p",[e._v("File Payments allow a file of payment requests to be uploaded to an ASPSP for payment initiation. Implementation of this endpoint is 'Conditional' which means the ASPSP must implement if the same functionality is supported for their PSUs (which could be for Business and/or Personal accounts) on their existing online channels.")]),e._v(" "),s("h3",{attrs:{id:"how-can-we-know-if-an-aspsp-supports-file-payment-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-can-we-know-if-an-aspsp-supports-file-payment-endpoint"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How can we know if an ASPSP supports File Payment endpoint?")])]),e._v(" "),s("p",[e._v("ASPSPs must make documentation available to TPPs (e.g. on their developer portals) to which 'Conditional' / 'Optional' endpoints and fields are implemented for any given implementation of the specification.")]),e._v(" "),s("h3",{attrs:{id:"can-aspsps-create-their-own-enumeration-when-required"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-aspsps-create-their-own-enumeration-when-required"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can ASPSPs create their own enumeration when required?")])]),e._v(" "),s("p",[e._v("Yes, ASPSPs can create their own enumerations.")]),e._v(" "),s("p",[e._v("The OBL Specification includes various fields of Enumerated data types, where either the values are fixed to an OBL defined set of alternatives (i.e. Static Enumerations), or flexible with an initial OBL defined set of alternatives, and ASPSPs can use/extend these alternatives (i.e. Namespaced Enumerations).")]),e._v(" "),s("p",[e._v("See : "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/references/namespaced-enumerations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("namespaced-enumerations"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"have-any-aspsps-requested-new-values-to-be-added-to-enumeration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#have-any-aspsps-requested-new-values-to-be-added-to-enumeration"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Have any ASPSPs requested new values to be added to enumeration?")])]),e._v(" "),s("p",[e._v("ASPSPs do not need to approach OBL before adding new enumerated values. They are free to do so, when necessary.")]),e._v(" "),s("h3",{attrs:{id:"does-an-aisp-need-to-display-obl-defined-data-clusters-and-permission-language-in-the-ui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-an-aisp-need-to-display-obl-defined-data-clusters-and-permission-language-in-the-ui"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does an AISP need to display OBL defined data clusters and permission language in the UI?")])]),e._v(" "),s("p",[e._v("While not a specific regulatory requirement, AISPs are strongly encouraged to clearly display the OBL data clusters and permission language to the PSU as part of their consent journey.")]),e._v(" "),s("h3",{attrs:{id:"how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-can-the-aspsp-inform-the-aisp-that-access-has-been-revoked-2"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How can the ASPSP inform the AISP that access has been revoked?")])]),e._v(" "),s("p",[e._v("The OB solution supports the revocation of consent at the TPP dashboard and the revocation of access at the ASPSP dashboard.\nWhen access is revoked at the ASPSP access dashboard by the PSU, the TPP can be notified as follows:-")]),e._v(" "),s("ul",[s("li",[e._v("Real-time/ Push Notifications: The functionality enables ASPSPs to notify AISPs in real-time (i.e. immediately) when a PSU revokes their access at their ASPSP dashboard or other account access changes events take place.")]),e._v(" "),s("li",[e._v("Aggregated polling / Pull Notifications: This enables the provision of notification of revocations from ASPSPs to AISPs, upon AISP request. It allows an AISP to request an aggregated set of access revocations and other account access events related to multiple access consents from multiple PSUs during a specific period.")])]),e._v(" "),s("p",[e._v("For more details refer to :\n"),s("a",{staticClass:"external-link",attrs:{href:"https://standards.openbanking.org.uk/customer-experience-guidelines/dashboards/psu-notifications/latest/",rel:"nofollow"}},[e._v("Customer Experience Guidelines - PSU notifications")])]),e._v(" "),s("h3",{attrs:{id:"what-resource-uri-path-structure-should-be-used-while-implementing-the-read-write-api-specification-v3-1-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-resource-uri-path-structure-should-be-used-while-implementing-the-read-write-api-specification-v3-1-2"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What Resource URI Path Structure should be used while implementing the Read Write API Specification v3.1.2?")])]),e._v(" "),s("p",[e._v("If implementing Version 3.1.2, the major version is 3 and the minor version is 1. The last .2 indicates a patch release and must not be present in the URI path. In this case, the implementer must define the resource URI path as 3.1.")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-correct-way-of-creating-and-passing-consentid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-correct-way-of-creating-and-passing-consentid"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the correct way of creating and passing ConsentId?")])]),e._v(" "),s("p",[e._v("The PISP "),s("strong",[e._v("must")]),e._v(" begin a payment-order request by creating a "),s("strong",[e._v("payment-order consent")]),e._v(" resource through a "),s("strong",[e._v("POST")]),e._v(' operation. This will confirm the parameters of the consent agreed between the PSU and the PISP.  At this stage, the consent is considered "staged" as the PSU would need to authenticate with their ASPSP. The ASPSP responds with a ConsentId. This is the intent-id used when initiating the authorisation code grant.')]),e._v(" "),s("h3",{attrs:{id:"what-error-should-be-returned-if-an-account-is-in-derogatory-status-e-g-fraud-stop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-error-should-be-returned-if-an-account-is-in-derogatory-status-e-g-fraud-stop"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What error should be returned if an account is in derogatory status (e.g. Fraud Stop)?")])]),e._v(" "),s("p",[e._v("It is up to each ASPSP to decide whether to send a 403 or a 200 with an empty response, in consideration to relevant regulatory obligations e.g AML, where applicable.")]),e._v(" "),s("h3",{attrs:{id:"can-a-pisp-create-consent-in-a-previous-version-and-a-payment-order-resources-in-a-newer-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-a-pisp-create-consent-in-a-previous-version-and-a-payment-order-resources-in-a-newer-version"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can a PISP create consent in a previous version and a payment order resources in a newer version?")])]),e._v(" "),s("p",[e._v("A PISP "),s("strong",[e._v("must not")]),e._v(" create a payment-order consent ConsentId on a previous version and use it to create a payment-order resource in a newer version.")]),e._v(" "),s("ul",[s("li",[e._v("E.g., A PaymentId created in v1, must not be used to create a v3 DomesticPaymentId.")])]),e._v(" "),s("h3",{attrs:{id:"can-a-pisp-create-consent-in-a-new-version-and-a-payment-order-resource-using-an-older-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-a-pisp-create-consent-in-a-new-version-and-a-payment-order-resource-using-an-older-version"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can a PISP create consent in a new version and a payment order resource using an older version?")])]),e._v(" "),s("p",[e._v("A PISP "),s("strong",[e._v("must not")]),e._v(" create a payment-order consent ConsentId on a newer version and use it to create a payment-order resource in a previous version.")]),e._v(" "),s("ul",[s("li",[e._v("E.g., A ConsentId created in v3, must not be used to create a v1 PaymentSubmissionId.")])]),e._v(" "),s("h3",{attrs:{id:"which-error-codes-should-be-used-when-a-tpp-submits-incorrect-json-e-g-extra-quotes-invalid-date-and-time-etc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#which-error-codes-should-be-used-when-a-tpp-submits-incorrect-json-e-g-extra-quotes-invalid-date-and-time-etc"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Which error codes should be used when a TPP submits incorrect JSON (e.g. extra quotes, invalid date and time, etc)?")])]),e._v(" "),s("p",[e._v("The ASPSP should respond with 400 (Bad Request) and the relevant Namespaced Enumeration.")]),e._v(" "),s("p",[e._v("Please see "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/read-write-data-api-profile.html#incomplete-or-malformed-request-payload",target:"_blank",rel:"noopener noreferrer"}},[e._v("incomplete-or-malformed-request-payload"),s("OutboundLink")],1),e._v(" and "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/references/namespaced-enumerations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("namespaced-enumerations"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"does-a-tpp-need-to-return-id-token-signed-response-alg-if-they-only-support-code-as-response-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-a-tpp-need-to-return-id-token-signed-response-alg-if-they-only-support-code-as-response-type"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does a TPP need to return id_token_signed_response_alg if they only support code as response type?")])]),e._v(" "),s("p",[e._v("No. The TPP need to return "),s("code",[e._v("id_token_signed_response_alg")]),e._v(" only when the response type is "),s("code",[e._v("code id_token")]),e._v(". This is the algorithm that the TPP expects to sign the id_token if an id_token is returned.")]),e._v(" "),s("h3",{attrs:{id:"what-are-the-different-types-of-charge-bearer-codes-supported-in-single-immediate-domestic-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-are-the-different-types-of-charge-bearer-codes-supported-in-single-immediate-domestic-payment"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What are the different types of charge bearer codes supported in single immediate (domestic) payment?")])]),e._v(" "),s("p",[e._v("The different types of charge bearers supported are:-")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("BorneByCreditor")])]),e._v(" "),s("li",[s("p",[e._v("BorneByDebtor")])]),e._v(" "),s("li",[s("p",[e._v("FollowingServiceLevel")])]),e._v(" "),s("li",[s("p",[e._v("Shared")])])]),e._v(" "),s("p",[e._v("See: "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/payment-initiation-api-profile.html#static-enumerations",target:"_blank",rel:"noopener noreferrer"}},[e._v("Static enumerations"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"in-the-transaction-api-is-the-transaction-amount-field-inclusive-exclusive-of-chargeamount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#in-the-transaction-api-is-the-transaction-amount-field-inclusive-exclusive-of-chargeamount"}},[e._v("#")]),e._v(" "),s("strong",[e._v("In the Transaction API, is the transaction amount field inclusive/exclusive of ChargeAmount?")])]),e._v(" "),s("p",[e._v("The standard is silent on whether the amount is inclusive or exclusive of the charge. As a result, we cannot provide any specific direction on how these values should be computed.")]),e._v(" "),s("p",[e._v("However, you should take the following into account:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("A charge is not always borne by the customer - it could be borne by the other party (or even shared). Some business accounts could be set up so that all charges are borne by a “charges account” that is separate.")])]),e._v(" "),s("li",[s("p",[e._v("The transaction history for the account returned by the APIs must be complete in and by itself. This means that if a separate charge line does not appear in the transactions, it can be safely assumed that the Amount includes the charge borne by the account holder. This could be any value from zero to the charge amount due to shared charging situations.")])]),e._v(" "),s("li",[s("p",[e._v("If the charge is not included in the transaction line itself, it must appear as a separate line where it is non-zero.")])])]),e._v(" "),s("h3",{attrs:{id:"does-an-aspsp-need-to-support-all-variants-of-datetime-format-as-per-iso-8601"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-an-aspsp-need-to-support-all-variants-of-datetime-format-as-per-iso-8601"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does an ASPSP need to support all variants of DateTime format as per ISO 8601?")])]),e._v(" "),s("p",[e._v("An ASPSP must accept all valid "),s("a",{staticClass:"external-link",attrs:{href:"https://www.iso.org/iso-8601-date-and-time-format.html date",rel:"nofollow"}},[e._v("ISO-8601 - Date and time format")]),e._v(" formats including its permitted variations (e.g. variations in how the time zone is defined, dates with or with a seconds or milliseconds part etc.) in API requests from TPPs.")]),e._v(" "),s("h3",{attrs:{id:"what-if-an-aspsp-is-not-able-to-support-functionality-or-an-attribute-in-the-payload-should-the-aspsp-reject-the-request-from-the-tpp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-if-an-aspsp-is-not-able-to-support-functionality-or-an-attribute-in-the-payload-should-the-aspsp-reject-the-request-from-the-tpp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What if an ASPSP is not able to support functionality or an attribute in the payload. Should the ASPSP reject the request from the TPP?")])]),e._v(" "),s("p",[e._v("When an ASPSP receives a payment order that they cannot process (and it is in parity with their online channels), the ASPSP could reject such a payment order. ASPSPs must make documentation available to TPPs (e.g. on their developer portals) which should specify which 'Conditional' / 'Optional' endpoints and fields have been implemented.")]),e._v(" "),s("p",[e._v("Examples include:")]),e._v(" "),s("ol",[s("li",[e._v("setting up a standing order with a frequency that they do not support,")]),e._v(" "),s("li",[e._v("making a Forex payment with a currency they do not support or indeed, and")]),e._v(" "),s("li",[e._v("specifying a date-time that is not supported.")])]),e._v(" "),s("h3",{attrs:{id:"how-many-days-of-transactions-are-allowed-for-credit-card-transactions-in-the-transactions-api-aligning-to-the-regulation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-many-days-of-transactions-are-allowed-for-credit-card-transactions-in-the-transactions-api-aligning-to-the-regulation"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How many days of transactions are allowed for credit card transactions in the transactions API aligning to the regulation?")])]),e._v(" "),s("p",[e._v("It is up to each ASPSP to be at parity with their online channels and also seek their own legal guidance.")]),e._v(" "),s("h3",{attrs:{id:"in-the-event-subscription-api-should-the-single-event-subscription-be-the-organisation-id-or-software-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#in-the-event-subscription-api-should-the-single-event-subscription-be-the-organisation-id-or-software-id"}},[e._v("#")]),e._v(" "),s("strong",[e._v("In the event subscription API, should the single event subscription be the Organisation ID or Software ID?")])]),e._v(" "),s("p",[e._v("This should be the ClientID.")]),e._v(" "),s("h3",{attrs:{id:"should-the-offers-resource-be-used-only-for-the-specific-account-e-g-credit-card-limit-increases-as-opposed-to-all-possible-offers-a-customer-could-see-online-e-g-a-pre-approved-loan-offer-based-on-their-credit-card-payment-history-and-credit-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-the-offers-resource-be-used-only-for-the-specific-account-e-g-credit-card-limit-increases-as-opposed-to-all-possible-offers-a-customer-could-see-online-e-g-a-pre-approved-loan-offer-based-on-their-credit-card-payment-history-and-credit-file"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should the 'offers' resource be used only for the specific account (e.g. Credit Card Limit Increases) as opposed to all possible offers a customer could see online (e.g. a pre-approved loan offer based on their credit card payment history and credit file)?")])]),e._v(" "),s("p",[e._v("The offers end-point arose from the interpretation that the API interface should make available whatever information is available to the PSU in the online channel.")]),e._v(" "),s("p",[e._v("It is up to each ASPSP to determine what information needs to be made available through these end-points, based on individual regulatory considerations.")]),e._v(" "),s("p",[e._v("The standard specifically provides for two endpoints - a “bulk” endpoint and an account-specific endpoint for offers.")]),e._v(" "),s("h3",{attrs:{id:"should-the-offers-endpoint-be-for-the-specific-account-or-all-possible-offers-a-customer-could-see-online"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-the-offers-endpoint-be-for-the-specific-account-or-all-possible-offers-a-customer-could-see-online"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should the offers endpoint be for the specific account or all possible offers a customer could see online?")])]),e._v(" "),s("p",[e._v("The offers endpoint is used by an AISP to retrieve the offers available for a specific AccountId or to retrieve the offers detail in bulk for all accounts that the PSU has consented to. It is up to each ASPSPs to determine  what information needs to be made available through these end-points, based on individual regulatory considerations.")]),e._v(" "),s("h3",{attrs:{id:"for-message-signing-what-should-be-the-input-payload-for-the-signature-e-g-http-body-parsed-json-canonicalised-json-etc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#for-message-signing-what-should-be-the-input-payload-for-the-signature-e-g-http-body-parsed-json-canonicalised-json-etc"}},[e._v("#")]),e._v(" "),s("strong",[e._v("For message signing, what should be the input payload for the signature (e.g. HTTP body, parsed JSON, canonicalised JSON etc)?")])]),e._v(" "),s("p",[e._v("The standard states\nThe HTTP body would form an un-encoded payload as defined in "),s("a",{staticClass:"external-link",attrs:{href:"https://tools.ietf.org/html/rfc7797",rel:"nofollow"}},[e._v("RFG 7797")])]),e._v(" "),s("p",[e._v("The only workable option is to use a buffer or character array that represents the HTTP body.")]),e._v(" "),s("h3",{attrs:{id:"should-the-trust-anchor-in-detached-jws-signatures-in-sandbox-be-openbanking-org-uk-or-openbankingtest-org-uk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-the-trust-anchor-in-detached-jws-signatures-in-sandbox-be-openbanking-org-uk-or-openbankingtest-org-uk"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should the trust anchor in detached JWS Signatures in Sandbox be openbanking.org.uk or openbankingtest.org.uk?")])]),e._v(" "),s("p",[e._v("The standard only specifies the trust anchor value to be used in production scenarios when using the OBL Directory. The value openbanking.org.uk should be used to identify the OBL Directory as the trust anchor.")]),e._v(" "),s("p",[e._v("The standard does not specify the trust anchor value to be used when the OBL Sandbox Directory is used as a trust anchor.")]),e._v(" "),s("p",[e._v("The model bank that is commissioned by the OBL will accept either openbanking.org.uk or openbankingtest.org.uk as tan values.")]),e._v(" "),s("h3",{attrs:{id:"why-does-the-obl-standard-not-use-standard-security-headers-such-as-content-security-policy-x-xss-protection-etc-can-an-aspsp-add-these-headers-to-their-responses"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why-does-the-obl-standard-not-use-standard-security-headers-such-as-content-security-policy-x-xss-protection-etc-can-an-aspsp-add-these-headers-to-their-responses"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Why does the OBL standard not use standard security headers such as Content-Security-Policy, X-XSS-Protection etc ? Can an ASPSP add these headers to their responses?")])]),e._v(" "),s("p",[e._v("The APIs are not meant to be surfaced up in a browser directly and it does not make sense to include those headers in the context of these standards.")]),e._v(" "),s("p",[e._v("ASPSPs may add additional headers in their responses. The standard does not prohibit this behaviour. The TPP may ignore such headers.")]),e._v(" "),s("p",[e._v("On the other hand, if the ASPSPs expect a specific header to be set by TPPs in the request, that would be possibly non-compliant behaviour.")]),e._v(" "),s("h3",{attrs:{id:"in-the-context-of-ais-is-it-possible-to-have-a-longer-lived-token-over-90-days-if-only-the-balance-is-read"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#in-the-context-of-ais-is-it-possible-to-have-a-longer-lived-token-over-90-days-if-only-the-balance-is-read"}},[e._v("#")]),e._v(" "),s("strong",[e._v("In the context of AIS, is it possible to have a longer-lived token over 90 days if only the balance is read?")])]),e._v(" "),s("p",[e._v("Currently, under PSD2/RTS, SCA needs to be performed at least every 90 days by the ASPSP. This means that even if only balance is being accessed, SCA will need to be performed if more than 90 days have passed since the last SCA was applied by the ASPSP.")]),e._v(" "),s("h3",{attrs:{id:"in-the-context-of-pis-does-the-consent-for-payment-expire-if-not-used-can-the-token-expiry-be-set-to-90-days-and-the-token-refreshed-if-not-expired"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#in-the-context-of-pis-does-the-consent-for-payment-expire-if-not-used-can-the-token-expiry-be-set-to-90-days-and-the-token-refreshed-if-not-expired"}},[e._v("#")]),e._v(" "),s("strong",[e._v("In the context of PIS, does the consent for payment expire if not used? Can the token expiry be set to 90 days and the token refreshed if not expired?")])]),e._v(" "),s("p",[e._v("Payment-consents tokens are meant to be “short-lived” and should be expected to last for a few minutes at most. The RTS Art. 10 exemption which supports the 90-day access token functionality applies to AIS only.")]),e._v(" "),s("h3",{attrs:{id:"how-long-are-transactions-available-via-the-transactions-api-after-the-bank-account-is-closed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-long-are-transactions-available-via-the-transactions-api-after-the-bank-account-is-closed"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How long are transactions available via the transactions API after the bank account is closed?")])]),e._v(" "),s("p",[e._v("This will be dependant on whether and to what extent this information is available to the PSU in the direct channels. This will be up to each ASPSP to determine based on relevant regulatory obligations.")]),e._v(" "),s("h3",{attrs:{id:"can-you-give-a-few-examples-to-illustrate-the-use-of-instructedamount-for-an-international-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-you-give-a-few-examples-to-illustrate-the-use-of-instructedamount-for-an-international-payment"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can you give a few examples to illustrate the use of "),s("code",[e._v("InstructedAmount")]),e._v(" for an International Payment?")])]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Scenario")]),e._v(" "),s("th",[e._v("Debit Account denomination")]),e._v(" "),s("th",[e._v("Currency of Transfer")]),e._v(" "),s("th",[e._v("/InstructedAmount/Currency")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Instruction that creditor should receive 100 EUR")]),e._v(" "),s("td",[e._v("GBP")]),e._v(" "),s("td",[e._v("EUR")]),e._v(" "),s("td",[e._v("EUR")])]),e._v(" "),s("tr",[s("td",[e._v("Instruction that creditor should receive EUR equivalent of 100 GBP")]),e._v(" "),s("td",[e._v("GBP")]),e._v(" "),s("td",[e._v("EUR")]),e._v(" "),s("td",[e._v("GBP")])]),e._v(" "),s("tr",[s("td",[e._v("Transfer 100 GBP to GBP denominated account held in another country.")]),e._v(" "),s("td",[e._v("GBP")]),e._v(" "),s("td",[e._v("GBP")]),e._v(" "),s("td",[e._v("GBP")])])])]),e._v(" "),s("h3",{attrs:{id:"which-error-codes-should-the-aspsp-use-while-responding-back-to-the-tpp-in-case-of-an-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#which-error-codes-should-the-aspsp-use-while-responding-back-to-the-tpp-in-case-of-an-error"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Which error codes should the ASPSP use while responding back to the TPP in case of an error?")])]),e._v(" "),s("p",[e._v("The ASPSP should send the appropriate response depending on which spec applies to the end-point that is being called.")]),e._v(" "),s("p",[e._v("For eg: When there is an error in relation to a token endpoint which is defined in OIDC and OAuth2, the error responses should comply with the OAuth2 / OIDC format.")]),e._v(" "),s("h3",{attrs:{id:"is-it-acceptable-for-an-aspsp-to-issue-302-redirects-during-the-authorization-code-grant-flow-to-the-psu-s-user-agent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-acceptable-for-an-aspsp-to-issue-302-redirects-during-the-authorization-code-grant-flow-to-the-psu-s-user-agent"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it acceptable for an ASPSP to issue 302 redirects during the authorization code grant flow to the PSU’s user agent?")])]),e._v(" "),s("p",[e._v("OpenID Connect, OAuth2 and FAPI do not define the behaviour of the AS between the time that the authorization code grant has started and its end (signalled by a redirect to the TPP in most cases)")]),e._v(" "),s("p",[e._v("For the journey to be a “compliant” OIDC/OAuth2 journey, there are a number of boxes to tick:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("The TPP constructs the authorization URL and issues it to the PSU’s browser. The URL should contain query parameters and request objects that are OIDC compliant. The URL should be the authorization_server in the ASPSP’s .well-known. The "),s("code",[e._v("redirect_uri")]),e._v(" parameter should be the TPP’s registered URI.")])]),e._v(" "),s("li",[s("p",[e._v("Once the PSU’s browser follows the redirect, the flow can be pretty much whatever the ASPSP wants to implement. The CEGs provide some standards on what those journeys should look like, but no technical constraints on redirects etc that take place.")])]),e._v(" "),s("li",[s("p",[e._v("That journey MUST end with the PSU browser receiving a 30x Redirect response. The redirect must be to the redirect_uri in the query parameter in #1 above. This URL must have OIDC/OAuth2 format query or hashbang parameters (e.g. code, error, error_description, nonce(?) etc")])])]),e._v(" "),s("p",[e._v("Practically, some browsers will cause issues with a TOO_MANY_REDIRECTS error - but the standard is silent on that.")]),e._v(" "),s("h3",{attrs:{id:"what-does-each-of-the-balance-types-mean-does-an-aspsp-have-to-provide-specific-balance-types-in-its-response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-does-each-of-the-balance-types-mean-does-an-aspsp-have-to-provide-specific-balance-types-in-its-response"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What does each of the Balance types mean? Does an ASPSP have to provide specific balance types in its response?")])]),e._v(" "),s("p",[e._v("The enumeration for the Balance Type field is based on the ISO 20022 definition for the field. When we base data structures on an underlying standard, we do not generally provide additional descriptions on the usage, unless there is an OBL specific deviation.")]),e._v(" "),s("p",[e._v("The ASPSPs are free to determine which balance types they should publish. The general expectation is that an ASPSP should provide the same information through its APIs as it does through its online channels. In situations where the more than one Balance Type could be used to describe the balance provided by the ASPSP, it is for the ASPSP to determine the appropriate type to be used.")]),e._v(" "),s("h4",{attrs:{id:"as-an-aspsp-do-we-need-to-support-a-specific-file-type-for-file-payments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-an-aspsp-do-we-need-to-support-a-specific-file-type-for-file-payments"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As an ASPSP, do we need to support a specific file type for File Payments?")])]),e._v(" "),s("p",[e._v("ASPSPs need to provide the ability for PISPs to initiate the same payment types, which can be initiated by the PSU on their online channels. The ASPSPs can define their own "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0-draft1/profiles/read-write-data-api-profile.html#enumerations",target:"_blank",rel:"noopener noreferrer"}},[e._v("namespaced enumeration"),s("OutboundLink")],1),e._v(" to list their custom file types.")]),e._v(" "),s("h4",{attrs:{id:"as-a-tpp-do-we-need-to-support-a-specific-file-type-for-file-payments-at-an-aspsp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-a-tpp-do-we-need-to-support-a-specific-file-type-for-file-payments-at-an-aspsp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As a TPP, do we need to support a specific file type for File Payments at an ASPSP?")])]),e._v(" "),s("p",[e._v("Each ASPSPs will have their own existing legacy and proprietary file formats which enables the PSU to upload on the ASPSPs existing channels. The same should be made available via PISP.")]),e._v(" "),s("h4",{attrs:{id:"can-you-explain-what-is-included-in-interimavailable-balance-type-for-credit-cards"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-you-explain-what-is-included-in-interimavailable-balance-type-for-credit-cards"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can you explain what is included in "),s("code",[e._v("InterimAvailable")]),e._v(" balance type for credit cards?")])]),e._v(" "),s("p",[e._v("As per ISO definition, "),s("code",[e._v("Available balance calculated in the course of the account servicer's business day, at the time specified, and subject to further changes during the business day. The interim balance is calculated on the basis of booked credit and debit items during the calculation time/period specified.")])]),e._v(" "),s("p",[e._v("For e.g.: A credit card that has 30 GBP worth of transactions and a 100 GBP credit limit.")]),e._v(" "),s("p",[s("code",[e._v("InterimBooked")]),e._v(" balance would be 30 GBP Dr.")]),e._v(" "),s("p",[s("code",[e._v("InterimAvailable")]),e._v(" balance would be 70 GBP Cr (with a CreditLine.included = true and value of 100 GBP).")]),e._v(" "),s("p",[e._v("We would suggest you refer to https://www.iso20022.org/standardsrepository/type/BalanceType10Code for more definitions on the different balance types.")]),e._v(" "),s("h4",{attrs:{id:"when-a-payment-is-refunded-what-should-be-the-captured-in-the-creditor-and-agent-fields-of-the-refund-block"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#when-a-payment-is-refunded-what-should-be-the-captured-in-the-creditor-and-agent-fields-of-the-refund-block"}},[e._v("#")]),e._v(" "),s("strong",[e._v("When a payment is refunded, what should be the captured in the "),s("code",[e._v("Creditor")]),e._v(" and "),s("code",[e._v("Agent")]),e._v(" fields of the "),s("code",[e._v("Refund")]),e._v(" block?")])]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("Refund")]),e._v(" block must contain the refund account details of the party being refunded.")]),e._v(" "),s("p",[e._v("For eg: If Mr X has made a purchase using ASPSP1 Bank and needs to be refunded then,")]),e._v(" "),s("p",[e._v("Refund.Creditor = Mr X.")]),e._v(" "),s("p",[e._v("Refund.Agent= ASPSP1 details.")]),e._v(" "),s("p",[e._v("Refund.Account= Mr X account details that were used to make the purchase originally.")]),e._v(" "),s("h4",{attrs:{id:"are-any-of-these-attributes-available-for-credit-cards-overdraft-information"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#are-any-of-these-attributes-available-for-credit-cards-overdraft-information"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Are any of these attributes available for Credit Cards & Overdraft information?")])]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Interest Rates (APRs) for Credit Cards and Overdraft.")])]),e._v(" "),s("li",[s("p",[e._v("Balance subject to Purchase APR on credit cards. (so we can separate out balance transfers at 0%)")])]),e._v(" "),s("li",[s("p",[e._v("Bill Due Date for Credit Cards.")])]),e._v(" "),s("li",[s("p",[e._v("The minimum payment amount for Credit Cards.")])])]),e._v(" "),s("p",[e._v("The R/W specification enables ASPSPs to provide this information (as per the endpoints) outlined below, however, it is up to the individual ASPSP to determine whether to populate this based on their relevant regulatory considerations:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Interest Rates (APRs) for Credit Cards and Overdraft-  Provided in "),s("code",[e._v("Products")]),e._v(" endpoint.")])]),e._v(" "),s("li",[s("p",[e._v("Balance subject to Purchase APR on credit cards. (so we can separate out balance transfers at 0%) - "),s("code",[e._v("StatementInterest")]),e._v(" on the "),s("code",[e._v("statements")]),e._v(" end-point.")])]),e._v(" "),s("li",[s("p",[e._v("Bill Due Date for Credit Cards - "),s("code",[e._v("StatementDateTime")]),e._v(" on "),s("code",[e._v("statements")]),e._v(" end-point.")])]),e._v(" "),s("li",[s("p",[e._v("The minimum payment amount for Credit Cards - "),s("code",[e._v("StatementAmount")]),e._v(" on "),s("code",[e._v("statements")]),e._v(" endpoint.")])])]),e._v(" "),s("h3",{attrs:{id:"how-do-we-know-whether-aspsp-supports-pain-file-format-for-file-bulk-payments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-do-we-know-whether-aspsp-supports-pain-file-format-for-file-bulk-payments"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How do we know whether ASPSP supports PAIN file format for file/bulk payments?")])]),e._v(" "),s("p",[e._v("ASPSPs are expected to make documentation available of the file formats & fields they support on their developer portals for the TPPs for any given implementation of the specification.")]),e._v(" "),s("p",[e._v("It is not considered mandatory for ASPSPs to implement this format.")]),e._v(" "),s("h3",{attrs:{id:"what-would-be-the-appropriate-errorcode-in-case-the-request-contains-a-malformed-body-e-g-incorrect-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-would-be-the-appropriate-errorcode-in-case-the-request-contains-a-malformed-body-e-g-incorrect-json"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What would be the appropriate "),s("code",[e._v("ErrorCode")]),e._v(" in case the request contains a malformed body, e.g. incorrect JSON?")])]),e._v(" "),s("p",[e._v("The closest would be "),s("code",[e._v("UK.OB.Field.Invalid")])]),e._v(" "),s("p",[e._v("If the JSON could be parsed, but some fields could not be validated, the error message should include the field (or if possible, fields) that were invalid.")]),e._v(" "),s("h3",{attrs:{id:"for-the-hybrid-authorization-code-grant-can-you-please-provide-a-more-complete-list-of-the-scenarios-in-which-an-aspsp-should-not-redirect-back-to-the-tpp-but-should-display-an-error-page-instead"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#for-the-hybrid-authorization-code-grant-can-you-please-provide-a-more-complete-list-of-the-scenarios-in-which-an-aspsp-should-not-redirect-back-to-the-tpp-but-should-display-an-error-page-instead"}},[e._v("#")]),e._v(" "),s("strong",[e._v("For the hybrid/authorization code grant, can you please provide a more complete list of the scenarios in which an ASPSP should not redirect back to the TPP, but should display an error page instead ?")])]),e._v(" "),s("p",[e._v("The question arises from the following statement in the CEG:")]),e._v(" "),s("blockquote",[s("p",[e._v("The authorisation request may be malformed when submitted by the TPP. For >example, it may include an invalid redirection URL, invalid parameters, invalid signature on the request object etc. OAuth2 and OIDC define a whole list of potential errors. These are abnormal situations which indicate a significant technical issue at the TPP’s end or even an attacker trying to act as a TPP. For safety (and as per the standards) the ASPSP must not redirect the PSU back to the TPP in such situations. The ASPSP must display an error message and stop the execution at this point. It is at the ASPSPs’ discretion to display to the PSU the message they find most appropriate for this error case, however an error message must be displayed. In this situation, TPPs do not receive a response back from the ASPSPs about the malformed authorisation request. Therefore, TPPs are not able to display any message to the PSU in this situation.")])]),e._v(" "),s("p",[e._v("We would like to clarify that the CEG does not suggest that ASPSPs implement behaviour that is contrary to OAuth2, OIDC or FAPI.")]),e._v(" "),s("p",[e._v("At the core of this requirement, is the statement in OAuth2 - https://tools.ietf.org/html/rfc6749#section-4.1.2.1")]),e._v(" "),s("blockquote",[s("p",[e._v("If the request fails due to a missing, invalid, or mismatching redirection URI, or if the client identifier is missing or invalid,  the authorization server SHOULD inform the resource owner of the error and MUST NOT automatically redirect the user-agent to the invalid redirection URI.")])]),e._v(" "),s("p",[e._v("In addition to that, ASPSPs may rely on OAuth Security BCP, https://tools.ietf.org/html/draft-ietf-oauth-security-topics-15#section-4.9.2 :")]),e._v(" "),s("blockquote",[s("p",[e._v("Based on its risk assessment, the ASPSP  needs to decide whether it can trust the redirect URI and SHOULD only automatically redirect the user agent if it trusts the redirect URI. If the URI is not trusted, the AS MAY inform the user and rely on the user to make the correct decision.")])]),e._v(" "),s("p",[e._v("Each ASPSP must reach its own reasoned decision. It may consider, for example, whether a missing, malformed or incorrectly signed request should be considered as a risky request.")]),e._v(" "),s("h2",{attrs:{id:"rate-limiting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rate-limiting"}},[e._v("#")]),e._v(" Rate Limiting")]),e._v(" "),s("h3",{attrs:{id:"can-the-aspsps-implement-rate-limiting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-the-aspsps-implement-rate-limiting"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can the ASPSPs implement rate-limiting?")])]),e._v(" "),s("p",[e._v("While rate-limiting is supported by the specifications, ASPSPs will need to consider the factors below in line with relevant regulatory consideration when making a decision on an appropriate limit:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("rate limiting is conducted in a manner that reasonable, non-discriminatory and not an obstacle to the TPPs.")])]),e._v(" "),s("li",[s("p",[e._v("provides at least the same level of availability/performance as existing PSU interfaces.")])]),e._v(" "),s("li",[s("p",[e._v("do not apply any measures to induce TPPs to adopt a new version of the APIs where rate limit is applied to an older version and better performance is provided on a newer version.")])])]),e._v(" "),s("p",[e._v("ASPSPs must make documentation available to TPPs (e.g. on their developer portals) and clearly publish rate limits for each version.")]),e._v(" "),s("p",[e._v("ASPSPs should respond with "),s("code",[e._v("429 - Too many requests")]),e._v(" status code if they rate limit requests from TPPs (as specified here - https://openbankinguk.github.io/read-write-api-site3/v3.1.6/profiles/read-write-data-api-profile.html#http-status-codes)")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-expected-response-when-an-aisp-tries-to-access-ais-endpoints-for-a-closed-or-switched-account"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-expected-response-when-an-aisp-tries-to-access-ais-endpoints-for-a-closed-or-switched-account"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the expected response when an AISP tries to access AIS endpoints for a closed or switched account?")])]),e._v(" "),s("p",[e._v("The standards define the behaviour that is expected "),s("a",{staticClass:"external-link",attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/read-write-data-api-profile.html#_400-bad-request-v-s-404-not-found",rel:"nofollow"}},[e._v("here")]),e._v(".")]),e._v(" "),s("p",[e._v("From Version 3.1.6, the ASPSPs may also return a flag to indicate the account’s switch status as part of the response to the accounts end-point.")]),e._v(" "),s("p",[e._v("If a PSU has consented to multiple accounts and then closes one or more, but not all of the accounts in the consent, the ASPSP should allow continued access to the remaining accounts.")]),e._v(" "),s("h3",{attrs:{id:"as-an-aspsp-can-we-revoke-access-to-tpps-following-an-account-switch-closure-does-this-conflict-with-the-requirement-of-v3-1-6-to-provide-cass-status-back-to-tpp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-an-aspsp-can-we-revoke-access-to-tpps-following-an-account-switch-closure-does-this-conflict-with-the-requirement-of-v3-1-6-to-provide-cass-status-back-to-tpp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As an ASPSP can we revoke access to TPPs following an account switch/closure? Does this conflict with the requirement of v3.1.6 to provide CASS status back to TPP?")])]),e._v(" "),s("p",[e._v("It is up to each ASPSP to determine a suitable approach in relation to how to treat active AISP access to a closed account, taking into consideration the applicable regulatory requirements.  They should be viewed as separate to the requirement to provide a CASS status message back to the AISP.")]),e._v(" "),s("h3",{attrs:{id:"what-should-be-the-aspsps-response-when-the-ais-tries-to-access-a-psu-s-account-that-is-switched-out-to-another-aspsp-and-the-aspsp-is-not-able-to-provide-the-switching-status-as-it-may-not-be-available"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-should-be-the-aspsps-response-when-the-ais-tries-to-access-a-psu-s-account-that-is-switched-out-to-another-aspsp-and-the-aspsp-is-not-able-to-provide-the-switching-status-as-it-may-not-be-available"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What should be the ASPSPs response, when the AIS tries to access a PSU’s account that is switched out to another ASPSP and the ASPSP is not able to provide the switching status as it may not be available?")])]),e._v(" "),s("p",[e._v("In this instance, it is recommended that ASPSPs consider the creation of their own namespaced enumeration and return that.")]),e._v(" "),s("h3",{attrs:{id:"should-accountid-be-unique-and-immutable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-accountid-be-unique-and-immutable"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should "),s("code",[e._v("AccountId")]),e._v(" be unique and immutable?")])]),e._v(" "),s("p",[e._v("Yes, "),s("code",[e._v("AccountId")]),e._v(" is a unique and immutable identifier used to identify the account resource.")]),e._v(" "),s("p",[e._v("The value should be immutable across time - not just immutable for a given consent.")]),e._v(" "),s("h3",{attrs:{id:"how-many-months-years-backdated-should-transaction-history-be-provided-via-aisp-by-the-aspsp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-many-months-years-backdated-should-transaction-history-be-provided-via-aisp-by-the-aspsp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("How many months/years backdated should transaction history be provided via AISP by the ASPSP?")])]),e._v(" "),s("p",[e._v("This should be the same period/length of time for which the information is available to the PSU when accessing their payment account in the direct channels.")]),e._v(" "),s("h2",{attrs:{id:"ultimate-parties-ultimate-debtor-ultimate-creditor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ultimate-parties-ultimate-debtor-ultimate-creditor"}},[e._v("#")]),e._v(" Ultimate Parties (Ultimate Debtor / Ultimate Creditor)")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-ultimate-creditor-in-payments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-ultimate-creditor-in-payments"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the Ultimate Creditor in Payments?")])]),e._v(" "),s("p",[e._v("Ultimate Creditor is the beneficiary that is the ultimate party who is going to receive the funds.\nFew examples")]),e._v(" "),s("ol",[s("li",[e._v("Payment is credited to a credit card collection account but the ultimate beneficiary is the customer whose credit card account is being paid.")]),e._v(" "),s("li",[e._v("Payment is credited to an account of a financial company but the ultimate beneficiary is the customer of the company")]),e._v(" "),s("li",[e._v("Payment is credited to e-wallet account of the Merchant or the PISP if holding a e-money licence but the ultimate beneficiary is another party.")])]),e._v(" "),s("h3",{attrs:{id:"who-should-provide-the-ultimate-creditor-is-it-the-pisp-or-the-psu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#who-should-provide-the-ultimate-creditor-is-it-the-pisp-or-the-psu"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Who should provide the Ultimate creditor? Is it the PISP or the PSU?")])]),e._v(" "),s("p",[e._v("The PISP must provide the Ultimate creditor in the payment chain when they know who the ultimate beneficiary is.")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-benefit-to-the-aspsp-of-receiving-ultimate-creditor-in-single-immediate-domestic-payment-when-faster-payment-cannot-accept-it"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-benefit-to-the-aspsp-of-receiving-ultimate-creditor-in-single-immediate-domestic-payment-when-faster-payment-cannot-accept-it"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the benefit to the ASPSP of receiving Ultimate Creditor in single immediate domestic payment when faster payment cannot accept it?")])]),e._v(" "),s("p",[e._v("The sending ASPSP do not have visibility of whom the payment is actually being made to, when the PISP or Merchant has that visibility.  Refer to example scenarios for more.")]),e._v(" "),s("h3",{attrs:{id:"can-ultimate-creditor-be-used-to-capture-other-information-related-to-the-creditor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-ultimate-creditor-be-used-to-capture-other-information-related-to-the-creditor"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can Ultimate creditor be used to capture other information related to the creditor?")])]),e._v(" "),s("p",[e._v("No. If only one party/person is being paid, only capture the Creditor and not duplicate it under both Creditor and UltimateCreditor.")]),e._v(" "),s("p",[e._v("It must not be used to capture duplicate information, product information, or alias names or creditor agent details")]),e._v(" "),s("p",[s("img",{attrs:{src:a(185),alt:"Example 1"}})]),e._v(" "),s("h3",{attrs:{id:"can-you-provide-an-example-of-how-and-when-to-provide-ultimate-creditor-in-a-payment-journey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-you-provide-an-example-of-how-and-when-to-provide-ultimate-creditor-in-a-payment-journey"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can you provide an example of how and when to provide ultimate creditor in a payment journey?")])]),e._v(" "),s("p",[e._v("If Payment service provider is acting as a collection agency offering collection on behalf of services (COBO) for Credit card payment, Mortgage payment, Collection on behalf of Merchant etc., then capture the COBO details under Creditor and the account on behalf of whom the collection is made under ultimate creditor.")]),e._v(" "),s("p",[e._v("Example : Customer paying a Merchant in return of delivery of goods. PISP is providing COBO service to the Merchant. PISP receives funds under a (Collecting Co Ltd) which is then passed on to the Merchant (GDSV Merchant Ltd).")]),e._v(" "),s("p",[s("img",{attrs:{src:a(186),alt:"Example 2"}})]),e._v(" "),s("h3",{attrs:{id:"can-you-provide-an-example-of-when-the-psu-is-the-beneficiary-of-funds-via-a-wallet-provided-by-the-pisp-or-the-merchant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-you-provide-an-example-of-when-the-psu-is-the-beneficiary-of-funds-via-a-wallet-provided-by-the-pisp-or-the-merchant"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can you provide an example of when the PSU is the beneficiary of funds via a wallet provided by the PISP or the Merchant?")])]),e._v(" "),s("p",[e._v("Scenario 1: If the beneficiary holds an account wallet with the service provider.")]),e._v(" "),s("p",[e._v("Example: PSU (Mr Go Lang) funding their own wallet account on Gambling platform (holding e-money license) they fall under the e-money regulation. A Gambling Service Provider Merchant (GAMB Merchant Ltd) who might be using a PISP to provide services and holding an account at GAMB Merchant’s Bank.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(187),alt:"Example 3"}})]),e._v(" "),s("p",[e._v("Scenario 2 : If the beneficiary holds a wallet with the Payment service provider.")]),e._v(" "),s("p",[e._v("Example: PSU (Mr Go Lang funding their own wallet account on a Gambling Platform (NOT holding e-money license and the ‘wallet’ would represent tokens for the usage of their 'gaming' services only). The Gambling Services Provider Merchant  (GAMB Merchant Ltd) uses PISP services as a collection agency funds from their clients.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(188),alt:"Example 4"}})]),e._v(" "),s("h3",{attrs:{id:"what-is-the-ultimate-debtor-in-payments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-ultimate-debtor-in-payments"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the Ultimate Debtor in Payments?")])]),e._v(" "),s("p",[e._v("Ultimate Debtor is the actual payer that is the ultimate party who is sending the funds or making the payment.")]),e._v(" "),s("p",[e._v("Few examples")]),e._v(" "),s("p",[e._v("A person (ultimate debtor) purchasing a house from a seller, depositing funds in a trust or company account of the law firm.\nA group of companies where all purchases are made via a centralised company account (the ultimate debtor) that actually pays for the purchases.")]),e._v(" "),s("h3",{attrs:{id:"should-aspsps-show-the-ultimate-debtor-and-ultimate-creditor-on-the-psu-s-access-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-aspsps-show-the-ultimate-debtor-and-ultimate-creditor-on-the-psu-s-access-dashboard"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should ASPSPs show the ultimate debtor and ultimate creditor on the PSU’s access dashboard?")])]),e._v(" "),s("p",[e._v("Yes, if provided. But this is applicable only for long-lived consents i.e. VRP.")]),e._v(" "),s("h3",{attrs:{id:"should-aspsps-show-the-ultimate-debtor-and-ultimate-creditor-when-the-psu-is-authenticating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-aspsps-show-the-ultimate-debtor-and-ultimate-creditor-when-the-psu-is-authenticating"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should ASPSPs show the ultimate debtor and ultimate creditor when the PSU is authenticating?")])]),e._v(" "),s("p",[e._v("Yes if it is provided by the PISP.")]),e._v(" "),s("h3",{attrs:{id:"should-pisps-show-the-ultimate-debtor-and-ultimate-creditor-on-the-psu-s-consent-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#should-pisps-show-the-ultimate-debtor-and-ultimate-creditor-on-the-psu-s-consent-dashboard"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Should PISPs show the ultimate debtor and ultimate creditor on the PSU’s consent dashboard?")])]),e._v(" "),s("p",[e._v("Yes, if provided. But this is applicable only for long-lived consents i.e. VRP.")]),e._v(" "),s("h3",{attrs:{id:"what-is-the-difference-between-consent-dashboard-and-access-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-difference-between-consent-dashboard-and-access-dashboard"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What is the difference between Consent Dashboard and Access Dashboard?")])]),e._v(" "),s("p",[e._v("Consent Dashboard is provided by the TPPs. To view all the consents that the PSU has provided to them. Depending on the role of the TPP it could be a AISP, PISP and CBPII.  For more refer to Dashboards")]),e._v(" "),s("p",[e._v("Access Dashboard is provided by the ASPSP to the PSU on their online channels")]),e._v(" "),s("h2",{attrs:{id:"fapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fapi"}},[e._v("#")]),e._v(" FAPI")]),e._v(" "),s("h3",{attrs:{id:"is-it-mandatory-to-include-the-scope-claim-when-calling-the-token-end-point-as-part-of-an-authorization-code-grant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-mandatory-to-include-the-scope-claim-when-calling-the-token-end-point-as-part-of-an-authorization-code-grant"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it mandatory to include the "),s("code",[e._v("scope")]),e._v(" claim when calling the token end-point as part of an authorization_code grant?")])]),e._v(" "),s("p",[e._v("No, it is not mandatory for the client to include the 'scope' in the token request.")]),e._v(" "),s("h3",{attrs:{id:"as-an-aspsp-which-security-certification-should-i-request-from-open-id-if-i-see-multiple-types-for-fapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-an-aspsp-which-security-certification-should-i-request-from-open-id-if-i-see-multiple-types-for-fapi"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As an ASPSP, which security certification should I request from Open ID if I see multiple types for FAPI?")])]),e._v(" "),s("p",[e._v("ASPSP must select FAPI-Advanced-Final- Authorization server test.")]),e._v(" "),s("h3",{attrs:{id:"which-scope-element-should-the-tpps-use-when-requesting-token-grant-type-authorization-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#which-scope-element-should-the-tpps-use-when-requesting-token-grant-type-authorization-code"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Which scope element should the TPPs use when requesting token (grant type=authorization_code)?")])]),e._v(" "),s("p",[e._v("TPPs should follow FAPI guidelines for the "),s("code",[e._v("scope")]),e._v(" element.")]),e._v(" "),s("h3",{attrs:{id:"what-should-the-aspsp-do-if-the-tpp-omits-the-scope-parameter-when-requesting-authorization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-should-the-aspsp-do-if-the-tpp-omits-the-scope-parameter-when-requesting-authorization"}},[e._v("#")]),e._v(" "),s("strong",[e._v("What should the ASPSP do if the TPP omits the scope parameter when requesting authorization?")])]),e._v(" "),s("p",[e._v("The authorization server must either process the request using a pre-defined default value or fail the request indicating an invalid scope.")]),e._v(" "),s("h3",{attrs:{id:"is-it-compliant-for-a-psu-to-be-redirected-within-a-redirect-in-a-redirect-hybrid-grant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-compliant-for-a-psu-to-be-redirected-within-a-redirect-in-a-redirect-hybrid-grant"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it compliant for a PSU to be redirected within a redirect in a redirect/hybrid grant?")])]),e._v(" "),s("p",[e._v("For the journey to be a “compliant” OIDC/OAuth2 journey, there are a number of boxes to tick:")]),e._v(" "),s("p",[e._v("The TPP constructs the authorization URL and issues it to the PSU’s browser. The URL should contain query parameters and request objects that are OIDC compliant. The URL should be the authorization_server in the ASPSP’s .well-known. The redirect_uri parameter should be the TPP’s registered URI.")]),e._v(" "),s("p",[e._v("Once the PSU’s browser follows the redirect, the flow can be pretty much whatever the ASPSP wants to implement. The CEGs provide some standards on what those journeys should look like, but no technical constraints on redirects etc that take place.")]),e._v(" "),s("p",[e._v("Finally, that journey MUST end with the PSU browser receiving a 30x Redirect response. The redirect must be to the redirect_uri in the query parameter in #1 above. This URL must have OIDC/OAuth2 format query or hashbang parameters (e.g. code, error, error_description, nonce(?) etc")]),e._v(" "),s("p",[e._v("Practically, some browsers will cause issues with a TOO_MANY_REDIRECTS error - but the standard is silent on that. It is likely that old / non-evergreen browsers may cause some issues.")]),e._v(" "),s("h3",{attrs:{id:"can-refresh-token-be-issued-without-an-hok-mechanism-to-avoid-impacts-on-member-and-would-it-be-in-compliance-with-fapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-refresh-token-be-issued-without-an-hok-mechanism-to-avoid-impacts-on-member-and-would-it-be-in-compliance-with-fapi"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can refresh token be issued without an HoK mechanism to avoid impacts on member and would it be in compliance with FAPI?")])]),e._v(" "),s("h3",{attrs:{id:"if-a-refresh-token-is-issued-with-mtls-hok-would-it-force-the-psu-to-re-authenticate-would-this-be-an-acceptable-user-journey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#if-a-refresh-token-is-issued-with-mtls-hok-would-it-force-the-psu-to-re-authenticate-would-this-be-an-acceptable-user-journey"}},[e._v("#")]),e._v(" "),s("strong",[e._v("If a refresh token is issued with MTLS HoK, would it force the PSU to re-authenticate? Would this be an acceptable user Journey?")])]),e._v(" "),s("p",[e._v("When using a refresh token, there should be no expectation on the PSU to re-authenticate each time they access token is renewed. TPPs are expected to use the “refreshing AISP access” journey in the CEGs.")]),e._v(" "),s("p",[e._v("The certificate binding mechanism with RFC-8705 does allow this to be implemented correctly.")]),e._v(" "),s("p",[e._v("The method for certificate binding is defined in https://tools.ietf.org/html/rfc8705#section-7.1. (Note that we do not have public clients and Section 4 of RF-8705 will not be applicable)")]),e._v(" "),s("p",[e._v("Effectively, a refresh token is not certificate bound directly but bound indirectly through the client. The client, in turn, needs to authenticate with the token endpoint using a strong method of authentication ("),s("code",[e._v("tls_client_auth")]),e._v(" or "),s("code",[e._v("private_key_jwt")]),e._v(").")]),e._v(" "),s("p",[e._v("If using "),s("code",[e._v("private_key_jwt")]),e._v(", the signature is based on a key pair in the client’s JWKS registered with the ASPSP. No certificates are involved. Done.")]),e._v(" "),s("p",[e._v("If using "),s("code",[e._v("tls_client_auth")]),e._v(", the certificate is validated by comparing with tls_client_auth_subject_dn - not the certificate fingerprint. This would allow the TPP to make a call to the token endpoint with the new certs with their current refresh token. The new access token would be bound to the new cert. Done.")]),e._v(" "),s("h3",{attrs:{id:"is-it-acceptable-for-an-aspsp-to-have-multiple-authorization-servers-how-should-these-be-discoverable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-it-acceptable-for-an-aspsp-to-have-multiple-authorization-servers-how-should-these-be-discoverable"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is it acceptable for an ASPSP to have multiple authorization servers? How should these be discoverable?")])]),e._v(" "),s("p",[e._v("ASPSPs may have multiple AS and RS (e.g. to serve different brands and products). However, for ASPSPs that use the OBL directory, these must be discoverable through the directory.")]),e._v(" "),s("p",[e._v("Furthermore, the use of additional authorization servers should not result in invalid or incorrectly formed OIDC discovery documents.")]),e._v(" "),s("h3",{attrs:{id:"is-there-any-guidance-on-how-long-in-advance-of-being-fapi-complaint-aspsps-should-send-out-notice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-there-any-guidance-on-how-long-in-advance-of-being-fapi-complaint-aspsps-should-send-out-notice"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is there any guidance on how long in advance of being FAPI complaint ASPSPs should send out notice?")])]),e._v(" "),s("p",[e._v("SCA - RTS, Article 30(4) contemplates that ASPSPs must give TPPs a minimum of three months’ notice of any change to the technical specification of their interface change except for emergency situations.")]),e._v(" "),s("p",[e._v("For more details refer to https://standards.openbanking.org.uk/operational-guidelines/change-and-communication-management/changes-to-an-aspsps-infrastructure-configuration-or-software/latest/.")]),e._v(" "),s("h3",{attrs:{id:"can-the-same-authorization-endpoint-be-used-repeatedly-while-it-is-not-authorized-by-psu-or-is-there-any-time-limitation-to-use-the-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-the-same-authorization-endpoint-be-used-repeatedly-while-it-is-not-authorized-by-psu-or-is-there-any-time-limitation-to-use-the-endpoint"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can the same Authorization endpoint be used repeatedly while it is not authorized by PSU or is there any time limitation to use the endpoint?")])]),e._v(" "),s("p",[e._v("There are no specific constraints in the OIDC and FAPI standards around the expected behaviour of hitting an authorization URL multiple times.")]),e._v(" "),s("p",[e._v("FAPI requires that the call has a signed request. The request object must have an "),s("code",[e._v("exp")]),e._v(" and "),s("code",[e._v("nbf")]),e._v(" claim as stipulated here. This would limit the validity period for an authorization URL.")]),e._v(" "),s("h3",{attrs:{id:"as-a-tpp-when-going-through-an-authorization-code-grant-is-the-request-object-required-even-if-i-am-not-using-a-hybrid-flow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-a-tpp-when-going-through-an-authorization-code-grant-is-the-request-object-required-even-if-i-am-not-using-a-hybrid-flow"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As a TPP, when going through an authorization code grant, is the request object required even if I am not using a hybrid flow?")])]),e._v(" "),s("p",[e._v("ASPSPs that use the OBL directory should register each authorization server on the OBIE directory with its corresponding discovery end-point.")]),e._v(" "),s("h4",{attrs:{id:"oidc-discovery"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#oidc-discovery"}},[e._v("#")]),e._v(" OIDC Discovery")]),e._v(" "),s("p",[e._v("The OpenID Connect Discovery\n"),s("a",{staticClass:"external-link",attrs:{href:"https://openid.net/specs/openid-connect-discovery-1_0.html",rel:"nofollow"}},[e._v("RFC")]),e._v("\nis the specification that defines the structure and content of the OIDC .well-known end-point.")]),e._v(" "),s("p",[e._v("The document is meant to be “discoverable” by web-finger and by a static URL and should always be available at a URL that can be pre-determined.")]),e._v(" "),s("p",[e._v("For example, the discovery document for the issuer example.com must be available at /.well-known/openid-configuration")]),e._v(" "),s("ol",[s("li",[e._v("GET /.well-known/openid-configuration HTTP/1.1")]),e._v(" "),s("li",[e._v("Host: example.com")])]),e._v(" "),s("p",[e._v("Subsequently, the discovery document that is returned must have example.com specified as the issuer URL.")]),e._v(" "),s("blockquote",[s("p",[e._v("issuer"),s("br"),e._v("\nREQUIRED. URL using the "),s("code",[e._v("https")]),e._v(" scheme with no query or fragment component that the OP asserts as its Issuer Identifier. If Issuer discovery is supported (see "),s("a",{staticClass:"external-link",attrs:{href:"https://openid.net/specs/openid-connect-discovery-1_0.html#IssuerDiscovery",rel:"nofollow"}},[e._v("Section 2")]),e._v("\n), this value MUST be identical to the issuer value returned by WebFinger. This also MUST be identical to the "),s("code",[e._v("iss")]),e._v(" Claim value in ID Tokens issued from this Issuer.")])]),e._v(" "),s("p",[e._v("Additionally, the "),s("code",[e._v("authorization_endpoint")]),e._v(" specified must point to the OP’s authorization server. Note that there is no stipulated relationship between the URL for the authorization_endpoint and the issuer.")]),e._v(" "),s("blockquote",[s("p",[e._v("authorization_endpoint\n"),s("br"),e._v("\nREQUIRED. URL of the OP's OAuth 2.0 Authorization Endpoint "),s("a",{staticClass:"external-link",attrs:{href:"https://openid.net/specs/openid-connect-discovery-1_0.html#OpenID.Core",rel:"nofollow"}},[e._v("[OpenID.Core]")]),e._v(".")])]),e._v(" "),s("p",[e._v("(If the authorization endpoint supports MA-TLS and this end-point is available at a different URI, then RFC 8705 Section 9.2 registers "),s("code",[e._v("mtls_endpoint_aliases.authorization server")]),e._v(" as a field in the discovery document.)")]),e._v(" "),s("h4",{attrs:{id:"issues-noted-in-the-ecosystem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#issues-noted-in-the-ecosystem"}},[e._v("#")]),e._v(" Issues noted in the ecosystem")]),e._v(" "),s("p",[e._v("The following have been observed by the OIDC FAPI compliance tests in the ecosystem. There are incorrect configurations and are non-compliant with the OIDC discovery specification:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Some ASPSPs issue a discovery document where the "),s("code",[e._v("issuer")]),e._v(" field does not match the discovery URL from which the document was retrieved.")])]),e._v(" "),s("li",[s("p",[e._v("Some ASPSPs have one or more authorization servers (e.g. when supporting multiple brands) that are not discoverable through the discovery document.")])])]),e._v(" "),s("p",[e._v("A checklist for correct implementations:")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("ASPSPs must issue a discovery document for their authorization server.")])]),e._v(" "),s("li",[s("p",[e._v("The ASPSP’s issuer URL when suffixed with "),s("code",[e._v("/.well-known/openid-configuration")]),e._v(" must return the discovery document.")])]),e._v(" "),s("li",[s("p",[e._v("The discovery document "),s("code",[e._v("issuer")]),e._v(" field must have the same value as the ASPSP’s issuer URL.")])]),e._v(" "),s("li",[s("p",[e._v("The ASPSP’s authorization server must be listed in the "),s("code",[e._v("authorization_server")]),e._v(" field")])]),e._v(" "),s("li",[s("p",[e._v("The ASPSP’s authorization server field may be optionally listed in the "),s("code",[e._v("mtls_endpoint_aliases.authorization")]),e._v(" server field.")])]),e._v(" "),s("li",[s("p",[e._v("If the ASPSP has multiple authorization servers, each authorization server must be discoverable through a separate discovery document. Each discovery document must meet the criteria above.")])]),e._v(" "),s("li",[s("p",[e._v("ASPSPs that use the OBL directory should register each authorization server on the OBL directory with its corresponding discovery end-point.")])])]),e._v(" "),s("h2",{attrs:{id:"vrp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vrp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("VRP")])]),e._v(" "),s("p",[e._v("*Where can I find the latest version of VRP specifications?")]),e._v(" "),s("p",[e._v("Version 4.0 of specifications can be found here → "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/vrp-profile.html#variable-recurring-payments-api-profile-v3-1-10",target:"_blank",rel:"noopener noreferrer"}},[e._v("Variable recurring payments API profile v4.0"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"does-vrp-payment-support-standing-order-future-dated-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-vrp-payment-support-standing-order-future-dated-payment"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does VRP payment support standing order/future dated payment?")])]),e._v(" "),s("p",[e._v("The sequence diagram "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/vrp-profile.html#sequence-diagram",target:"_blank",rel:"noopener noreferrer"}},[e._v("Variable recurring payments API profile v4.0"),s("OutboundLink")],1),e._v(" is generic. At present only single immediate payments are supported in the specifications, standing orders and forward dated payments are not supported.")]),e._v(" "),s("h3",{attrs:{id:"is-the-data-debtor-block-to-be-provided-by-the-aspsp-in-the-response-block-optional"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-the-data-debtor-block-to-be-provided-by-the-aspsp-in-the-response-block-optional"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is the "),s("code",[e._v("Data.Debtor")]),e._v(" block to be provided by the ASPSP in the response block optional?")])]),e._v(" "),s("p",[s("code",[e._v("Data.Debtor")]),e._v(" block is optional and outside the initiation block. In scenarios where account selection is done by the PSU during authentication, the ASPSP must be able to update the "),s("code",[e._v("Data.Debtor")]),e._v(" block with the debtor details after successful authorisation. This will enable the PISP to make a "),s("code",[e._v("GET")]),e._v(" call to get the debtor account details to make future payments using the VRP consent.")]),e._v(" "),s("h3",{attrs:{id:"where-can-i-find-namespaced-enumerations-for-vrp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-can-i-find-namespaced-enumerations-for-vrp"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Where can I find namespaced enumerations for VRP?")])]),e._v(" "),s("p",[e._v("You can find all the namespaced enumerations for VRP here → "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/references/namespaced-enumerations.html#variable-recurring-payments-namespaced-enumerations",target:"_blank",rel:"noopener noreferrer"}},[e._v("Namespaced Enumerations - v4.0"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"does-vrp-support-refunds-if-yes-wherein-the-specs-can-we-find-this-option"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#does-vrp-support-refunds-if-yes-wherein-the-specs-can-we-find-this-option"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Does VRP support refunds? If yes, wherein the specs can we find this option?")])]),e._v(" "),s("p",[e._v("PISP can request refund information by indicating yes/no in "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/vrp/domestic-vrp-consents.html#obdomesticvrpconsentrequest",target:"_blank",rel:"noopener noreferrer"}},[e._v("Domestic VRP consents - v4.0"),s("OutboundLink")],1),e._v(" "),s("code",[e._v("Data.ReadRefundAccount")])]),e._v(" "),s("p",[e._v("The actual refund details will be provided by ASPSP in "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/vrp/domestic-vrps.html#obdomesticvrpresponse",target:"_blank",rel:"noopener noreferrer"}},[e._v("Domestic VRPs - v4.0"),s("OutboundLink")],1),e._v(" "),s("code",[e._v("Data.Refund")])]),e._v(" "),s("h3",{attrs:{id:"why-is-the-fundsconfirmationid-max-length-40"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why-is-the-fundsconfirmationid-max-length-40"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Why is the "),s("code",[e._v("FundsConfirmationId")]),e._v(" max length 40?")])]),e._v(" "),s("p",[s("code",[e._v("FundsConfirmationId")]),e._v(" - is 40 characters as it is just an identifier and a UUIDv4 (36-38 characters) which is used in modern systems would fit in that size.")]),e._v(" "),s("h3",{attrs:{id:"as-per-the-specs-validfromdatetime-field-is-optional-does-that-mean-the-consent-start-date-can-be-a-back-or-a-future-date"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#as-per-the-specs-validfromdatetime-field-is-optional-does-that-mean-the-consent-start-date-can-be-a-back-or-a-future-date"}},[e._v("#")]),e._v(" "),s("strong",[e._v("As per the specs, "),s("code",[e._v("ValidFromDateTime")]),e._v(" field is optional. Does that mean the consent start date can be a back or a future date?")])]),e._v(" "),s("p",[s("code",[e._v("ValidFromDateTime")]),e._v(" is an optional field which means if not provided the consent start date is when the consent is provided to the PISP by the PSU and successful authentication has taken place at the ASPSP. It must not be backdated because the PSU is only giving consent at that point. However, it could be a future date.")]),e._v(" "),s("h3",{attrs:{id:"can-validtodatetime-be-left-blank"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-validtodatetime-be-left-blank"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can "),s("code",[e._v("ValidToDateTime")]),e._v(" be left blank?")])]),e._v(" "),s("p",[s("code",[e._v("ValidToDateTime")]),e._v(" can be left blank which means the validity of the consent is indefinite.")]),e._v(" "),s("p",[e._v("*Should the "),s("code",[e._v("ValidToDateTime")]),e._v(" be populated by either the PISP or ASPSP when the consent is revoked?")]),e._v(" "),s("p",[e._v("No consent parameters remain unchanged and so does ValidToDateTime even after the expiry of the consent.")]),e._v(" "),s("h3",{attrs:{id:"is-there-an-expectation-that-validfromdatetime-and-validtodatetime-must-start-at-a-specific-time-and-does-that-need-to-be-included-in-the-pro-rata-calculation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-there-an-expectation-that-validfromdatetime-and-validtodatetime-must-start-at-a-specific-time-and-does-that-need-to-be-included-in-the-pro-rata-calculation"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is there an expectation that "),s("code",[e._v("ValidFromDateTime")]),e._v(" and "),s("code",[e._v("ValidToDateTime")]),e._v(" must start at a specific time and does that need to be included in the pro-rata calculation?")])]),e._v(" "),s("p",[e._v("Refer to specs section - OBDomesticVRPControlParameters - "),s("a",{attrs:{href:"https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/vrp/domestic-vrp-consents.html#obdomesticvrpcontrolparameters",target:"_blank",rel:"noopener noreferrer"}},[e._v("Domestic VRP consents - v4.0"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("The time element of the date should be disregarded in computing the date range and pro-rating.")]),e._v(" "),s("h3",{attrs:{id:"is-expired-a-valid-consent-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-expired-a-valid-consent-status"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is "),s("code",[e._v("Expired")]),e._v(" a valid consent status?")])]),e._v(" "),s("p",[e._v("No, this was introduced in v3.18 of the specifications but has been removed in v3.1.9 of the specifications. Once consent is expired, the PISP will not be able to access the PSU’s account to initiate payment orders however the status of the resource remain unchanged.")]),e._v(" "),s("h3",{attrs:{id:"is-revoked-a-valid-consent-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#is-revoked-a-valid-consent-status"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Is "),s("code",[e._v("Revoked")]),e._v(" a valid consent status?")])]),e._v(" "),s("p",[e._v("No, this was introduced in v3.18 of the specifications but has been removed in v3.1.9 of the specifications. Once consent is revoked by the PSU at the PISP, the PISP will need to ensure the "),s("code",[e._v("DELETE")]),e._v(" endpoint is called to inform the ASPSP that consent is revoked. The ASPSP must delete the resource and respond to subsequent GET requests with an HTPP status of 400.")]),e._v(" "),s("h3",{attrs:{id:"can-an-aspsp-provide-a-specific-status-reason-if-the-vrp-sweeping-payment-cannot-be-processed-due-to-asynchronous-check-failure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#can-an-aspsp-provide-a-specific-status-reason-if-the-vrp-sweeping-payment-cannot-be-processed-due-to-asynchronous-check-failure"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Can an ASPSP provide a specific status reason if the VRP/sweeping payment cannot be processed due to asynchronous check failure?")])]),e._v(" "),s("p",[e._v("No, but this is being considered.")]),e._v(" "),s("h3",{attrs:{id:"do-pisps-have-to-provide-the-same-reference-in-the-cof-check-call-as-in-the-vrp-consent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#do-pisps-have-to-provide-the-same-reference-in-the-cof-check-call-as-in-the-vrp-consent"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Do PISPs have to provide the same "),s("code",[e._v("Reference")]),e._v(" in the CoF check call as in the VRP consent?")])]),e._v(" "),s("p",[e._v("Yes. "),s("code",[e._v("Reference")]),e._v(" is an optional field in the VRP consent which means if it is provided, then it has to be provided in the CoF check call and the ASPSP can reject CoF request if the reference does not match.")])])}),[],!1,null,null,null);t.default=n.exports}}]);