<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Message Signing FAQs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link,[object Object] 0="link" 1="[object Object]"></link,[object Object]>
    <meta name="description" content="OBIE Knowledge Base">
    
    <link rel="preload" href="/knowledge-base-pub/assets/css/0.styles.c5993b5d.css" as="style"><link rel="preload" href="/knowledge-base-pub/assets/js/app.ee8088cc.js" as="script"><link rel="preload" href="/knowledge-base-pub/assets/js/2.7e79b507.js" as="script"><link rel="preload" href="/knowledge-base-pub/assets/js/16.82072fff.js" as="script"><link rel="prefetch" href="/knowledge-base-pub/assets/js/10.ac03dcf7.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/11.56c2b08f.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/12.826e183b.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/13.88e9c13e.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/14.ba510fec.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/15.629ad836.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/17.23673684.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/18.b3aef136.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/19.43edad0c.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/20.161fc217.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/21.562f2a1e.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/3.34f56b41.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/4.47d24b2c.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/5.319882f0.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/6.32ebf877.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/7.1208ae19.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/8.5189873f.js"><link rel="prefetch" href="/knowledge-base-pub/assets/js/9.844979ba.js">
    <link rel="stylesheet" href="/knowledge-base-pub/assets/css/0.styles.c5993b5d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge-base-pub/" class="home-link router-link-active"><img src="/knowledge-base-pub/assets/img/logo-dark.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://standards.openbanking.org.uk/api-specifications/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Specifications
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/security-profiles/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Security Profiles
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/customer-experience-guidelines/introduction/section-a/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Customer Experience Guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/operational-guidelines/introduction/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Operational Guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openbankinguk.github.io/knowledge-base-pub/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FAQs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://standards.openbanking.org.uk/api-specifications/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Specifications
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/security-profiles/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Security Profiles
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/customer-experience-guidelines/introduction/section-a/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Customer Experience Guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://standards.openbanking.org.uk/operational-guidelines/introduction/latest/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Operational Guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://openbankinguk.github.io/knowledge-base-pub/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FAQs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/knowledge-base-pub/conformance-tools/" class="sidebar-heading clickable"><span>Conformance Tool</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/knowledge-base-pub/standards/" class="sidebar-heading clickable router-link-active open"><span>Standards</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-base-pub/standards/open-data.html" class="sidebar-link">Open Data API Specifications</a></li><li><a href="/knowledge-base-pub/standards/read-write.html" class="sidebar-link">Read Write Data Specification</a></li><li><a href="/knowledge-base-pub/standards/ceg.html" class="sidebar-link">Customer Experience Guidelines</a></li><li><a href="/knowledge-base-pub/standards/og.html" class="sidebar-link">Operational Guidelines</a></li><li><a href="/knowledge-base-pub/standards/dcr.html" class="sidebar-link">Dynamic Client Registration</a></li><li><a href="/knowledge-base-pub/standards/mi.html" class="sidebar-link">MI reporting</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/knowledge-base-pub/standards/general/" class="sidebar-heading clickable router-link-active open"><span>General</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge-base-pub/standards/general/company-name.html" class="sidebar-link">Company Name</a></li><li><a href="/knowledge-base-pub/standards/general/message-sign.html" aria-current="page" class="active sidebar-link">Message Signing</a></li><li><a href="/knowledge-base-pub/standards/general/vrp.html" class="sidebar-link">Variable Recurring Payment</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="message-signing-faqs"><a href="#message-signing-faqs" class="header-anchor">#</a> Message Signing FAQs</h2> <p></p><div class="table-of-contents"><ul><li><a href="#message-signing-faqs">Message Signing FAQs</a><ul><li><a href="#are-there-different-versions-for-message-signing-as-a-tpp-which-version-should-i-be-using">Are there different versions for message signing? As a TPP, which version should I be using?</a></li><li><a href="#what-are-the-key-differences-between-each-of-these-versions">What are the key differences between each of these versions?</a></li><li><a href="#what-should-be-the-iss-when-using-an-eidas-certificate">What should be the `iss` when using an EIDAS certificate?</a></li><li><a href="#what-is-the-tan-value-for-directory-sandbox">What is the `tan` value for Directory Sandbox?</a></li><li><a href="#which-api-requests-and-responses-should-be-signed">Which API requests and responses should be signed?</a></li><li><a href="#when-signing-an-http-payload-should-the-input-be-the-raw-http-payload-or-a-parsed-and-cleansed-json-object">When signing an HTTP payload, should the input be the “raw” HTTP payload or a parsed and cleansed JSON object?</a></li><li><a href="#can-you-explain-what-are-the-supported-values-of-b64-claim-for-different-versions-of-specifications">Can you explain what are the supported values of `b64` claim for different versions of specifications?</a></li><li><a href="#are-aspsps-expected-to-also-support-b64-un-encoded-signed-messages-for-version-3-1-4-onwards">Are ASPSPs expected to also support `b64` un-encoded &amp; signed messages for version 3.1.4 onwards?</a></li></ul></li></ul></div><p></p> <h3 id="are-there-different-versions-for-message-signing-as-a-tpp-which-version-should-i-be-using"><a href="#are-there-different-versions-for-message-signing-as-a-tpp-which-version-should-i-be-using" class="header-anchor">#</a> <strong>Are there different versions for message signing? As a TPP, which version should I be using?</strong></h3> <p>There are primarily three versions of message signing in the OBIE specifications:</p> <p>Read-Write API Specifications 3.0
Read-Write API Specifications 3.1.3
Read-Write API Specification 3.1.4+</p> <p>The version that is to be used is determined by the Read-Write API profile version that is supported by the ASPSP. The information can be found on ASPSP’s developer portal and possibly on the <a href="
https://openbanking.atlassian.net/wiki/spaces/AD/pages/1135346433/Transparency+Calendar
" rel="nofollow" class="external-link">transparency calendar</a>.</p> <p>Note: The rest of this FAQ covers Version 3.1.x only. Version 3.0 signatures are no longer supported by OBIE.</p> <h3 id="what-are-the-key-differences-between-each-of-these-versions"><a href="#what-are-the-key-differences-between-each-of-these-versions" class="header-anchor">#</a> <strong>What are the key differences between each of these versions?</strong></h3> <p>Please refer to the specifications for how the message signatures are to be constructed and verified.</p> <p>The main difference between signatures in Version 3.0 and 3.1.x is that Version 3.1.x signatures are not tightly coupled with the <code>subject</code> of the signing certificate. Certificates can be generated using simple asymmetric key pairs. The 3.1.x specification introduces a new <code>tan</code> claim to identify the trust anchor. The trust anchor is the entity responsible for providing access to the public keys required to verify signatures.</p> <p>Between Version 3.1.3 and later versions, the key point of divergence is the removal of the <code>b64</code> claim. Participants using Version 3.1.3 or earlier must support and process correctly signatures that are set to have <code>b64</code> as false. <code>b64</code>=false indicates that the detached payload is not base64 encoded when calculating the signature.</p> <h3 id="what-should-be-the-iss-when-using-an-eidas-certificate"><a href="#what-should-be-the-iss-when-using-an-eidas-certificate" class="header-anchor">#</a> <strong>What should be the <code>iss</code> when using an EIDAS certificate?</strong></h3> <p>The structure of the <code>iss</code> field is defined by the trust anchor.</p> <ol><li>If the certificate is lodged with the Open Banking Directory and Open Banking Directory is the trust anchor (as indicated by the tan value equal to <code>openbanking.org.uk</code>)</li></ol> <p>a. When issued by a TPP, <code>iss</code> has the form <code>NaN/NaN</code>,</p> <p>b. When issued by an ASPSP, <code>iss</code> has the form <code>NaN</code></p> <ol start="2"><li><p>If the certificate is lodged with another trust anchor, the trust anchor should specify the expected iss values that would identify the issuer of the signature.</p></li> <li><p>If the certificate is not lodged with a trust anchor, then the subject of the certificate should be used as the <code>iss</code></p></li></ol> <p>The specification does not state how a signature of the last type should be verified by the ASPSP. The ASPSP may have additional requirements for ensuring that the public key is securely transmitted and for the durability of the key.</p> <p>When a TPP EIDAS certificate is lodged with the Open Banking Directory and Open Banking Directory is the trust anchor, <code>iss</code> has the form <span><code>{{orgi-id}}/{{software-statement-id}}</code></span>.</p> <p>When an ASPSP EIDAS certificate is lodged with the Open Banking Directory and Open Banking Directory is the trust anchor, <code>iss</code> has the form <span><code>{{orgi-id}}</code></span>.</p> <h3 id="what-is-the-tan-value-for-directory-sandbox"><a href="#what-is-the-tan-value-for-directory-sandbox" class="header-anchor">#</a> <strong>What is the <code>tan</code> value for Directory Sandbox?</strong></h3> <p>The specification does not define the expected <code>tan</code> value to be used by ASPSP’s (testing facilities) that use the Directory Sandbox.</p> <p>Each ASPSP is free to define what <code>tan</code> values would be accepted by their sandboxes.</p> <h3 id="which-api-requests-and-responses-should-be-signed"><a href="#which-api-requests-and-responses-should-be-signed" class="header-anchor">#</a> <strong>Which API requests and responses should be signed?</strong></h3> <p>The specification is clear about which API requests and responses require signatures:</p> <p>The <code>Endpoints</code> table for resource documentation has a column called “Message Signing”. The column specifies whether the API has “signed requests”, “signed response” or both.</p> <p>The swagger specification indicates which requests and responses would have signatures through the presence of the <code>x-jws-signature</code></p> <h3 id="when-signing-an-http-payload-should-the-input-be-the-raw-http-payload-or-a-parsed-and-cleansed-json-object"><a href="#when-signing-an-http-payload-should-the-input-be-the-raw-http-payload-or-a-parsed-and-cleansed-json-object" class="header-anchor">#</a> <strong>When signing an HTTP payload, should the input be the “raw” HTTP payload or a parsed and cleansed JSON object?</strong></h3> <p>Signature generation and validation should always be based on the raw sequence of bytes that constitute the HTTP body (prior to the application of HTTP transformations such as multi-part encoding, gzip/deflate etc.)</p> <p>Some further notes:</p> <ul><li><p>The only consistent payload that is available to the sender and receiver is the byte representation of the HTTP body.</p></li> <li><p>Using payloads at the JSON level would expose the sign/verify method to the vagaries of a JSON parser - this would make it impossible to cater to every permutation that could occur in the ecosystem.</p></li> <li><p>The standard does not specifically talk about signatures on JSON bodies - it talks about signatures on any content-type as indicated by <code>cty</code>. This would further add to the interpretation that this needs to be the raw HTTP body.</p></li> <li><p>Although we state “raw body” here, it leaves things to further interpretation around how HTTP handles the body part. The body can be gzip/deflate encoded and it could also be multi-part encoded. However, this encoding would take place at the HTTP level once the sender starts transmitting the message. Since this is likely to take place after the signature has been generated, we should not be thinking about this “raw” level of the body, but the byte representation of the body once the HTTP mechanisms have been accounted for.</p></li></ul> <h3 id="can-you-explain-what-are-the-supported-values-of-b64-claim-for-different-versions-of-specifications"><a href="#can-you-explain-what-are-the-supported-values-of-b64-claim-for-different-versions-of-specifications" class="header-anchor">#</a> <strong>Can you explain what are the supported values of <code>b64</code> claim for different versions of specifications?</strong></h3> <p><code>b64</code> claim is removed from Version 3.1.4 onwards which means,</p> <p><strong>For version v3.0 to 3.1.3, the value of <code>b64</code> claim needs to be false.</strong> ASPSP must support the parameter b64 to be false, and any TPPs using these ASPSPs must do the same.</p> <p>Eg:</p> <p>A detached signature, <code>b64</code>=false</p> <blockquote><p><code>b64Encode(header)</code><br>
.<br>
.<br> <code>sign( concatenate( b64UrlEncode(header), &quot;.&quot;, payload ) )</code><br></p></blockquote> <p>A non-detached signature, <code>b64</code>=false would be encoded as follows. (This is for completeness only - the specification does not require the use of this format)</p> <blockquote><p><code>b64Encode(header)</code><br>
.<br> <code>payload</code><br>
.<br> <code>sign( concatenate( b64UrlEncode(header), &quot;.&quot;, payload ))</code><br></p></blockquote> <p><strong>For version 3.1.4 onward, ASPSPs must not include the <code>b64</code> claim in the header</strong>, and any TPPs using these ASPSPs must do the same.</p> <p>Eg:</p> <p>A Detached signature, <code>b64</code>=true (or not specified)</p> <blockquote><p><code>b64Encode(header)</code><br>
.<br>
.<br> <code>sign( concatenate( b64UrlEncode(header), &quot;.&quot;, b64UrlEncode(payload) ) )</code><br></p></blockquote> <p>A non-detached signature, <code>b64</code>=true</p> <blockquote><p><code>b64Encode(header)</code><br>
.<br> <code>b64UrlEncode(payload)</code><br>
.<br> <code>sign( concatenate( b64UrlEncode(header), &quot;.&quot;, b64UrlEncode(payload) ) )</code><br></p></blockquote> <p>Note: ASPSPs must include details of which version they support in their API documentation and must give TPPs at least three month's notice of any changes.</p> <h3 id="are-aspsps-expected-to-also-support-b64-un-encoded-signed-messages-for-version-3-1-4-onwards"><a href="#are-aspsps-expected-to-also-support-b64-un-encoded-signed-messages-for-version-3-1-4-onwards" class="header-anchor">#</a> <strong>Are ASPSPs expected to also support <code>b64</code> un-encoded &amp; signed messages for version 3.1.4 onwards?</strong></h3> <p>No, ASPSP may reject messages with a <code>b64</code> claim in the JOSE header.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/knowledge-base-pub/standards/general/company-name.html" class="prev">Company Name</a></span> <span class="next"><a href="/knowledge-base-pub/standards/general/vrp.html">Variable Recurring Payment</a>→
    </span></p></div> </main> <div class="footer-wrapper"><footer class="page-edit footer"><div class="footer-navigation"><ul><li><a href="https://www.openbanking.org.uk/about-us/" target="_blank">About Us</a></li> <li><a href="https://www.openbanking.org.uk/" target="_blank">Customers</a></li> <li><a href="https://www.openbanking.org.uk/providers/" target="_blank">Providers</a></li> <li><a href="https://www.openbanking.org.uk/contact-us/" target="_blank">Contact Us</a></li> <li><a href="https://www.openbanking.org.uk/terms-conditions/" target="_blank">Terms and Conditions</a></li> <li><a href="https://www.openbanking.org.uk/privacy-policy/" target="_blank">Privacy Policy</a></li> <li><a href="https://www.openbanking.org.uk/cookies/" target="_blank">Cookies</a></li> <li><a href="https://www.openbanking.org.uk/accessibility/" target="_blank">Accessibility</a></li> <li><a href="https://www.openbanking.org.uk/open-licence/" target="_blank">Open Licence</a></li></ul></div> <div class="footer-info"><p>Unless otherwise stated, all specifications, documentation, articles, and downloadable reference applications are subject to the MIT Licence.</p> <p>Registered in England. Company Number: 10440081</p> <p>Registered office: 2 Thomas More Square, London E1W 1YN United Kingdom</p></div></footer></div></div><div class="global-ui"><!----></div></div>
    <script src="/knowledge-base-pub/assets/js/app.ee8088cc.js" defer></script><script src="/knowledge-base-pub/assets/js/2.7e79b507.js" defer></script><script src="/knowledge-base-pub/assets/js/16.82072fff.js" defer></script>
  </body>
</html>
